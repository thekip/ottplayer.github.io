{"version":3,"sources":["webpack:///main.42c89e8f.js","webpack:///./src/index.tsx","webpack:///./src/api/epg.api.ts","webpack:///./src/api/playlist.api.ts","webpack:///./src/app.tsx","webpack:///./src/casting/initialize-casting-api.ts","webpack:///./src/components/cast-button/cast-button.tsx","webpack:///./src/components/channel-epg/channel-epg.container.ts","webpack:///./src/components/channel-epg/channel-epg.tsx","webpack:///./src/components/channels-panel/channels-panel.container.tsx","webpack:///./src/components/channels-panel/channels-panel.tsx","webpack:///./src/components/channels/channel-detail/channel-detail.tsx","webpack:///./src/components/channels/grouped-channels-list/grouped-channels-list.tsx","webpack:///./src/components/channels/selectable-channels-list/selectable-channels-list.tsx","webpack:///./src/components/favourites-editor/favourites-editor.tsx","webpack:///./src/components/favourites-editor/save-bar/save-bar.tsx","webpack:///./src/components/formatters/date.tsx","webpack:///./src/components/formatters/duration.tsx","webpack:///./src/components/header/header.component.tsx","webpack:///./src/components/list-switcher/list-switcher.tsx","webpack:///./src/components/no-favourites/no-favourites.tsx","webpack:///./src/components/player-area/player-area.component.tsx","webpack:///./src/components/settings/settings.tsx","webpack:///./src/components/tv-portal/tv-portal.component.tsx","webpack:///./src/components/video-player/video-player.tsx","webpack:///./src/db.ts","webpack:///./src/libs/playlist-parser/playlist-parser.ts","webpack:///./src/libs/storage.ts","webpack:///./src/libs/video.ts","webpack:///./src/store/index.ts","webpack:///./src/store/reducers/favourites.reducer.ts","webpack:///./src/store/reducers/playlist.reducer.ts","webpack:///./src/store/reducers/settings.reducer.ts","webpack:///./src/store/reducers/ui-preferences.reducer.ts","webpack:///./src/store/sagas/epg.saga.ts","webpack:///./src/store/sagas/index.ts","webpack:///./src/store/sagas/playlist.saga.ts","webpack:///./src/app.scss?7dae","webpack:///./src/components/cast-button/cast-button.scss?2989","webpack:///./src/components/channel-epg/channel-epg.scss?a773","webpack:///./src/components/channels/channel-detail/channels-detail.scss?3092","webpack:///./src/components/channels/channels-list/channels-list.scss?3a33","webpack:///./src/components/channels/grouped-channels-list/grouped-channels-list.scss?9011","webpack:///./src/components/channels/selectable-channels-list/selectable-channels-list.scss?6bc6","webpack:///./src/components/favourites-editor/save-bar/save-bar.scss?653d","webpack:///./src/components/header/header.scss?c50d","webpack:///./src/components/list-switcher/list-switcher.scss?0c02","webpack:///./src/components/no-favourites/no-favourites.scss?3c75","webpack:///./src/components/player-area/player-area.scss?833d","webpack:///./src/components/progress-bar/progress-bar.scss?711c","webpack:///./src/components/settings/settings.scss?dfb9","webpack:///./src/components/side-panel/side-panel.scss?2532","webpack:///./src/components/tv-portal/tv-portal.scss?377e","webpack:///./src/components/video-player/video-player.scss?f25c","webpack:///./src/store/actions/epg.actions.ts","webpack:///./src/store/reducers/epg.reducer.ts","webpack:///./src/components/channels/channels-list/channels-list.tsx","webpack:///./src/components/hoc/with-channel-navigation.tsx","webpack:///./src/components/list-switcher/channel-list-modes.ts","webpack:///./src/store/actions/playlist.actions.ts","webpack:///./src/components/formatters/time.tsx","webpack:///./src/components/progress-bar/progress-bar.tsx","webpack:///./src/components/side-panel/side-panel.tsx","webpack:///./src/store/actions/favourites.actions.ts","webpack:///./src/store/actions/settings.actions.ts","webpack:///./src/store/actions/ui-preferences.actions.ts","webpack:///./src/store/reducers/casting.reducer.ts"],"names":["webpackJsonp","117","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_react_dom__","__WEBPACK_IMPORTED_MODULE_1_react_dom___default","__WEBPACK_IMPORTED_MODULE_2__index_scss__","__WEBPACK_IMPORTED_MODULE_3__app__","a","render","createElement","document","getElementById","119","normalizeEpgEntry","data","chId","ch_id","name","startTime","time","endTime","time_to","duration","descr","fetchEpg","epgUrl","channelIds","__WEBPACK_IMPORTED_MODULE_0_tslib__","this","epg","promises","_a","map","chid","window","fetch","then","r","json","response","keys","forEach","key","push","Promise","all","120","fetchPlaylist","url","text","rawPlaylist","parsed","__WEBPACK_IMPORTED_MODULE_0__libs_playlist_parser_playlist_parser__","parse","errors","length","Error","playlist","121","d","App","__WEBPACK_IMPORTED_MODULE_1_react__","__WEBPACK_IMPORTED_MODULE_1_react___default","__WEBPACK_IMPORTED_MODULE_2_react_redux__","__WEBPACK_IMPORTED_MODULE_3_react_router_dom__","__WEBPACK_IMPORTED_MODULE_4__app_scss__","__WEBPACK_IMPORTED_MODULE_4__app_scss___default","__WEBPACK_IMPORTED_MODULE_5__components_header_header_component__","__WEBPACK_IMPORTED_MODULE_6__components_settings_settings__","__WEBPACK_IMPORTED_MODULE_7__components_tv_portal_tv_portal_component__","__WEBPACK_IMPORTED_MODULE_8__store__","_super","apply","arguments","prototype","store","className","appWrap","container","path","component","122","initializeCastApi","__onGCastApiAvailable","isAvailable","context","cast","framework","CastContext","getInstance","setOptions","receiverApplicationId","chrome","media","DEFAULT_MEDIA_RECEIVER_APP_ID","autoJoinPolicy","AutoJoinPolicy","ORIGIN_SCOPED","addEventListener","CastContextEventType","CAST_STATE_CHANGED","event","dispatch","__WEBPACK_IMPORTED_MODULE_0__store_reducers_casting_reducer__","state","castState","SESSION_STATE_CHANGED","sessionState","123","CastButton","__WEBPACK_IMPORTED_MODULE_3_react_icons_lib_md_cast__","__WEBPACK_IMPORTED_MODULE_3_react_icons_lib_md_cast___default","__WEBPACK_IMPORTED_MODULE_4_react_icons_lib_md_cast_connected__","__WEBPACK_IMPORTED_MODULE_4_react_icons_lib_md_cast_connected___default","__WEBPACK_IMPORTED_MODULE_5__cast_button_scss__","__WEBPACK_IMPORTED_MODULE_5__cast_button_scss___default","__WEBPACK_IMPORTED_MODULE_6_autobind_decorator__","__WEBPACK_IMPORTED_MODULE_6_autobind_decorator___default","CastButtonComponent","isConnected","props","requestCastSession","requestSession","active","default","onClick","title","type","mapStateToProps","casting","i","124","filterOutdatedEntries","entries","index","findIndex","__WEBPACK_IMPORTED_MODULE_1__store_reducers_epg_reducer__","slice","ownProps","channelId","ChannelEpg","__WEBPACK_IMPORTED_MODULE_0_react_redux__","__WEBPACK_IMPORTED_MODULE_2__channel_epg__","125","ChannelEpgComponent","__WEBPACK_IMPORTED_MODULE_2__store_reducers_epg_reducer__","__WEBPACK_IMPORTED_MODULE_3__channel_epg_scss__","__WEBPACK_IMPORTED_MODULE_3__channel_epg_scss___default","__WEBPACK_IMPORTED_MODULE_4__progress_bar_progress_bar__","__WEBPACK_IMPORTED_MODULE_5__formatters_time__","__WEBPACK_IMPORTED_MODULE_6_react_custom_scrollbars__","__WEBPACK_IMPORTED_MODULE_6_react_custom_scrollbars___default","__WEBPACK_IMPORTED_MODULE_7__formatters_duration__","__WEBPACK_IMPORTED_MODULE_8__formatters_date__","host","autoHide","entry","entryActive","mainInfo","timing","sideInfo","date","126","getFavouritesChannels","channels","favourites","filter","channel","includes","id","ChannelsPanel","__WEBPACK_IMPORTED_MODULE_1__store_actions_ui_preferences_actions__","__WEBPACK_IMPORTED_MODULE_2__hoc_with_channel_navigation__","__WEBPACK_IMPORTED_MODULE_3__channels_panel__","currentEpg","listMode","uiPreferences","channelListMode","mapDispatchToProps","onChangeListMode","mode","127","ChannelsPanelComponent","__WEBPACK_IMPORTED_MODULE_2__side_panel_side_panel__","__WEBPACK_IMPORTED_MODULE_3__channels_grouped_channels_list_grouped_channels_list__","__WEBPACK_IMPORTED_MODULE_4__channels_channels_list_channels_list__","__WEBPACK_IMPORTED_MODULE_5__list_switcher_list_switcher__","__WEBPACK_IMPORTED_MODULE_6__list_switcher_channel_list_modes__","__WEBPACK_IMPORTED_MODULE_7__no_favourites_no_favourites__","get","enumerable","configurable","getChannelsListElement","current","currentChannel","onChangeChannel","scrollbarController","grouped","_this","header","onSwitch","provideScrollbarCtrl","ctrl","body","128","ChannelDetail","__WEBPACK_IMPORTED_MODULE_3__store_reducers_epg_reducer__","__WEBPACK_IMPORTED_MODULE_4__formatters_time__","__WEBPACK_IMPORTED_MODULE_5__progress_bar_progress_bar__","__WEBPACK_IMPORTED_MODULE_6__channels_detail_scss__","__WEBPACK_IMPORTED_MODULE_6__channels_detail_scss___default","ChannelDetailComponent","getEpg","find","currentIndex","indexOf","next","componentDidMount","timerId","setInterval","setState","Date","now","componentWillUnmount","clearInterval","details","currentProgram","nextProgram","129","GroupedChannelsList","__WEBPACK_IMPORTED_MODULE_2__channels_list_channels_list__","__WEBPACK_IMPORTED_MODULE_3__grouped_channels_list_scss__","__WEBPACK_IMPORTED_MODULE_3__grouped_channels_list_scss___default","__WEBPACK_IMPORTED_MODULE_4_lodash_groupBy__","__WEBPACK_IMPORTED_MODULE_4_lodash_groupBy___default","__WEBPACK_IMPORTED_MODULE_5_react_icons_lib_fa_angle_right__","__WEBPACK_IMPORTED_MODULE_5_react_icons_lib_fa_angle_right___default","groups","expanded","componentWillMount","prepareData","componentWillReceiveProps","expandGroup","group","toggleGroup","isExpanded","groupTitle","groupExpanded","groupCollapsed","arrowIcon","130","SelectableChannelsList","__WEBPACK_IMPORTED_MODULE_2__selectable_channels_list_scss__","__WEBPACK_IMPORTED_MODULE_2__selectable_channels_list_scss___default","__WEBPACK_IMPORTED_MODULE_3__channels_list_channels_list__","handleCheckBoxChange","selected","isSelected","onSelectionChange","getControl","e","stopPropagation","checkbox","defaultChecked","onChange","htmlFor","control","131","onSave","__WEBPACK_IMPORTED_MODULE_4__store_actions_favourites_actions__","history","onCancel","FavouritesEditor","__WEBPACK_IMPORTED_MODULE_1_autobind_decorator__","__WEBPACK_IMPORTED_MODULE_1_autobind_decorator___default","__WEBPACK_IMPORTED_MODULE_2_react__","__WEBPACK_IMPORTED_MODULE_2_react___default","__WEBPACK_IMPORTED_MODULE_3_react_redux__","__WEBPACK_IMPORTED_MODULE_5__channels_selectable_channels_list_selectable_channels_list__","__WEBPACK_IMPORTED_MODULE_6__hoc_with_channel_navigation__","__WEBPACK_IMPORTED_MODULE_7__side_panel_side_panel__","__WEBPACK_IMPORTED_MODULE_8__save_bar_save_bar__","FavouritesEditorComponent","selectedChannels","touched","handleSelectionChange","selection","saveDisabled","132","SaveBar","__WEBPACK_IMPORTED_MODULE_2_react_icons_lib_fa_check__","__WEBPACK_IMPORTED_MODULE_2_react_icons_lib_fa_check___default","__WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_repeat__","__WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_repeat___default","__WEBPACK_IMPORTED_MODULE_4__save_bar_scss__","__WEBPACK_IMPORTED_MODULE_4__save_bar_scss___default","saveBar","btns","btnSave","disabled","btnCancel","133","DateFormatter","format","ts","toLocaleDateString","children","134","Duration","minutes","hours","Math","floor","135","HeaderWithRouter","__WEBPACK_IMPORTED_MODULE_2__header_scss__","__WEBPACK_IMPORTED_MODULE_2__header_scss___default","__WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_cog__","__WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_cog___default","__WEBPACK_IMPORTED_MODULE_4_autobind_decorator__","__WEBPACK_IMPORTED_MODULE_4_autobind_decorator___default","__WEBPACK_IMPORTED_MODULE_5_react_router__","__WEBPACK_IMPORTED_MODULE_6__cast_button_cast_button__","Header","goToSettings","channelsBtns","settingsBtns","btn","136","ListSwitcher","__WEBPACK_IMPORTED_MODULE_2_react_icons_lib_fa_star__","__WEBPACK_IMPORTED_MODULE_2_react_icons_lib_fa_star___default","__WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_align_justify__","__WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_align_justify___default","__WEBPACK_IMPORTED_MODULE_4_react_icons_lib_fa_folder__","__WEBPACK_IMPORTED_MODULE_4_react_icons_lib_fa_folder___default","__WEBPACK_IMPORTED_MODULE_5__channel_list_modes__","__WEBPACK_IMPORTED_MODULE_6__list_switcher_scss__","__WEBPACK_IMPORTED_MODULE_6__list_switcher_scss___default","options","btnTitle","icon","isCurrent","option","bind","listSwitcher","currentModeTitle","optionCurrent","137","NoFavourites","__WEBPACK_IMPORTED_MODULE_2_react_router_dom__","__WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_star__","__WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_star___default","__WEBPACK_IMPORTED_MODULE_4__no_favourites_scss__","__WEBPACK_IMPORTED_MODULE_4__no_favourites_scss___default","noFavIcon","action","to","138","currentKey","settings","castingSessionState","PlayerArea","__WEBPACK_IMPORTED_MODULE_2__video_player_video_player__","__WEBPACK_IMPORTED_MODULE_3__player_area_scss__","__WEBPACK_IMPORTED_MODULE_3__player_area_scss___default","__WEBPACK_IMPORTED_MODULE_4__channel_epg_channel_epg_container__","__WEBPACK_IMPORTED_MODULE_5_react_redux__","PlayerAreaComponent","getStreamUrl","stream","replace","nextProps","setMediaToCast","isCastingEnabled","castSession","getCurrentSession","mediaInfo","MediaInfo","request","LoadRequest","metadata","GenericMediaMetadata","loadMedia","mainPanel","playerContainer","src","139","onSubmit","__WEBPACK_IMPORTED_MODULE_4__store_actions_settings_actions__","Settings","__WEBPACK_IMPORTED_MODULE_5__settings_scss__","__WEBPACK_IMPORTED_MODULE_5__settings_scss___default","SettingsComponent","handleSubmit","$event","preventDefault","playlistUrl","playlistInput","keyInput","handleCancel","gridForm","blockField","ref","inp","defaultValue","fieldLabel","formActions","submitBtn","cancelBtn","140","onFetchData","__WEBPACK_IMPORTED_MODULE_6__store_actions_playlist_actions__","onUnmount","__WEBPACK_IMPORTED_MODULE_5__store_actions_epg_actions__","TvPortal","__WEBPACK_IMPORTED_MODULE_3_react_router__","__WEBPACK_IMPORTED_MODULE_4_react_router_dom__","__WEBPACK_IMPORTED_MODULE_7__channels_panel_channels_panel_container__","__WEBPACK_IMPORTED_MODULE_8__favourites_editor_favourites_editor__","__WEBPACK_IMPORTED_MODULE_9__player_area_player_area_component__","__WEBPACK_IMPORTED_MODULE_10__tv_portal_scss__","__WEBPACK_IMPORTED_MODULE_10__tv_portal_scss___default","TvPortalComponent","exact","match","141","VideoPlayer","__WEBPACK_IMPORTED_MODULE_2__libs_video__","__WEBPACK_IMPORTED_MODULE_3__video_player_scss__","player","refs","video","autoplay","fluid","controls","updateSrc","dispose","ready","shouldComponentUpdate","data-vjs-player","142","db","__WEBPACK_IMPORTED_MODULE_1_dexie__","OttDataBase","call","version","stores","143","PlaylistParser","result","ResultBuilder","trim","M3uTagParser","check","parseLine","getResult","throwError","error","string","global_1","mapKeyValue","setGlobalData","ExtTagParser","ext","addChannel","setChannelStream","array","reduce","acc","line","split","params","urlEpg","urlLogo","keyRequired","logo","archive","streamUrl","144","LocalStorageFactory","create","componentName","StorageProxy","localStorage","storage","JSON","getItem","lastValue","set","setItem","stringify","remove","removeItem","145","__WEBPACK_IMPORTED_MODULE_0_video_js__","__WEBPACK_IMPORTED_MODULE_0_video_js___default","__WEBPACK_IMPORTED_MODULE_1_videojs_contrib_hls__","146","__WEBPACK_IMPORTED_MODULE_0_redux__","__WEBPACK_IMPORTED_MODULE_1_redux_saga__","__WEBPACK_IMPORTED_MODULE_2_redux_thunk__","__WEBPACK_IMPORTED_MODULE_2_redux_thunk___default","__WEBPACK_IMPORTED_MODULE_3__casting_initialize_casting_api__","__WEBPACK_IMPORTED_MODULE_4__libs_storage__","__WEBPACK_IMPORTED_MODULE_5__reducers_casting_reducer__","__WEBPACK_IMPORTED_MODULE_6__reducers_epg_reducer__","__WEBPACK_IMPORTED_MODULE_7__reducers_favourites_reducer__","__WEBPACK_IMPORTED_MODULE_8__reducers_playlist_reducer__","__WEBPACK_IMPORTED_MODULE_9__reducers_settings_reducer__","__WEBPACK_IMPORTED_MODULE_10__reducers_ui_preferences_reducer__","__WEBPACK_IMPORTED_MODULE_11__sagas__","ottApp","sagaMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","favouritesStorage","settingsStorage","uiPreferencesStorage","epgLastUpdateStorage","preloadState","lastUpdate","run","subscribe","getState","147","favouritesReducer","__WEBPACK_IMPORTED_MODULE_0_ts_action__","__WEBPACK_IMPORTED_MODULE_1__actions_favourites_actions__","initialState","_state","payload","148","playlistReducer","__WEBPACK_IMPORTED_MODULE_1__actions_playlist_actions__","initialPlaylist","149","settingsReducer","__WEBPACK_IMPORTED_MODULE_1_ts_action__","__WEBPACK_IMPORTED_MODULE_2__actions_settings_actions__","150","uiPreferencesReducer","__WEBPACK_IMPORTED_MODULE_2__actions_ui_preferences_actions__","__WEBPACK_IMPORTED_MODULE_3__components_list_switcher_channel_list_modes__","151","isEpgOutdated","EPG_UPDATE_PERIOD_HOURS","startSync","channelsIds","bgSyncTask","label","__WEBPACK_IMPORTED_MODULE_2_redux_saga_effects__","sent","ch","bgSync","__WEBPACK_IMPORTED_MODULE_4__actions_epg_actions__","trys","__WEBPACK_IMPORTED_MODULE_3__api_epg_api__","finishTime","__WEBPACK_IMPORTED_MODULE_5__db__","main","152","rootSaga","__WEBPACK_IMPORTED_MODULE_1_redux_saga_effects__","__WEBPACK_IMPORTED_MODULE_2__epg_saga__","__WEBPACK_IMPORTED_MODULE_3__playlist_saga__","153","__WEBPACK_IMPORTED_MODULE_4__actions_playlist_actions__","__WEBPACK_IMPORTED_MODULE_2__api_playlist_api__","__WEBPACK_IMPORTED_MODULE_3__actions_epg_actions__","155","exports","156","157","158","159","item","itemActive","160","161","162","163","164","165","166","167","bar","inner","168","169","170","171","video-player","vjs-spinner-spin","vjs-spinner-fade","172","20","ReceiveEpg","FailedLoadEpg","GetEpg","StopEpgSync","21","epgInAir","currentTime","toDictionary","epgReducer","__WEBPACK_IMPORTED_MODULE_2__actions_epg_actions__","34","ChannelsList","__WEBPACK_IMPORTED_MODULE_2__channel_detail_channel_detail__","__WEBPACK_IMPORTED_MODULE_3__channels_list_scss__","__WEBPACK_IMPORTED_MODULE_3__channels_list_scss___default","isInitiallyScrolled","isActive","chanel","scrollToActiveChannel","activeElementRef","setTimeout","values","getValues","topPoint","scrollTop","bottomPoint","clientHeight","elementTop","offsetTop","componentDidUpdate","channelsList","alt","35","getDisplayName","WrappedComponent","displayName","withChannelNavigation","WithChannelNavigation","getCurrentChannel","channelSlug","getChannelSlug","36","ChannelListMode","365","366","37","RequestPlaylist","ReceivePlaylist","57","Time","toTimeString","join","58","ProgressBar","__WEBPACK_IMPORTED_MODULE_2__progress_bar_scss__","__WEBPACK_IMPORTED_MODULE_2__progress_bar_scss___default","oldValue","watch","isUnmounted","forceUpdate","requestAnimationFrame","passed","round","style","width","59","SidePanel","__WEBPACK_IMPORTED_MODULE_2__side_panel_scss__","__WEBPACK_IMPORTED_MODULE_2__side_panel_scss___default","__WEBPACK_IMPORTED_MODULE_3_react_custom_scrollbars__","__WEBPACK_IMPORTED_MODULE_3_react_custom_scrollbars___default","60","SaveFavourites","61","ChangeSettings","62","SetChannelsListMode","63","CastStateChanged","SessionStateChanged","castingReducer"],"mappings":"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","file":"main.42c89e8f.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 117:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(306);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__index_scss__ = __webpack_require__(172);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__index_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__index_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__app__ = __webpack_require__(121);\n\r\n\r\n\r\n\r\n__WEBPACK_IMPORTED_MODULE_1_react_dom___default.a.render(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__app__[\"a\" /* App */], null), document.getElementById('root'));\r\n\n\n/***/ }),\n\n/***/ 119:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = fetchEpg;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n\r\nfunction normalizeEpgEntry(data) {\r\n    return {\r\n        chId: +data.ch_id,\r\n        name: data.name,\r\n        startTime: data.time,\r\n        endTime: data.time_to,\r\n        duration: +data.duration,\r\n        descr: data.descr,\r\n    };\r\n}\r\nfunction fetchEpg(epgUrl, channelIds) {\r\n    return __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __awaiter */](this, void 0, void 0, function () {\r\n        var epg, promises;\r\n        return __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __generator */](this, function (_a) {\r\n            epg = [];\r\n            promises = channelIds.map(function (chid) {\r\n                return window.fetch(epgUrl + \"channel/\" + chid)\r\n                    .then(function (r) { return r.json(); })\r\n                    .then(function (response) {\r\n                    return Object.keys(response)\r\n                        .forEach(function (key) { return epg.push(normalizeEpgEntry(response[key])); });\r\n                });\r\n            });\r\n            return [2 /*return*/, Promise.all(promises).then(function () { return epg; })];\r\n        });\r\n    });\r\n}\r\n\n\n/***/ }),\n\n/***/ 120:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = fetchPlaylist;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__libs_playlist_parser_playlist_parser__ = __webpack_require__(143);\n\r\nfunction fetchPlaylist(url) {\r\n    return window.fetch(\"http://\" + url + \"/ottplayer/playlist.m3u\")\r\n        .then(function (r) { return r.text(); })\r\n        .then(function (rawPlaylist) {\r\n        var parsed = new __WEBPACK_IMPORTED_MODULE_0__libs_playlist_parser_playlist_parser__[\"a\" /* PlaylistParser */]().parse(rawPlaylist);\r\n        if (parsed.errors.length) {\r\n            throw new Error(parsed.errors[0]);\r\n        }\r\n        return parsed.playlist;\r\n    });\r\n}\r\n\n\n/***/ }),\n\n/***/ 121:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return App; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_redux__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_router_dom__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_scss__ = __webpack_require__(155);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__app_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_header_header_component__ = __webpack_require__(135);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_settings_settings__ = __webpack_require__(139);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_tv_portal_tv_portal_component__ = __webpack_require__(140);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__store__ = __webpack_require__(146);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar App = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](App, _super);\r\n    function App() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    App.prototype.render = function () {\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_react_redux__[\"a\" /* Provider */], { store: __WEBPACK_IMPORTED_MODULE_8__store__[\"a\" /* store */] },\r\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_router_dom__[\"a\" /* BrowserRouter */], null,\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_4__app_scss___default.a.appWrap },\r\n                    __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__components_header_header_component__[\"a\" /* HeaderWithRouter */], null),\r\n                    __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_4__app_scss___default.a.container },\r\n                        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_router_dom__[\"b\" /* Switch */], null,\r\n                            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_router_dom__[\"c\" /* Route */], { path: '/settings', component: __WEBPACK_IMPORTED_MODULE_6__components_settings_settings__[\"a\" /* Settings */] }),\r\n                            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_router_dom__[\"c\" /* Route */], { path: '/:channelSlug*', component: __WEBPACK_IMPORTED_MODULE_7__components_tv_portal_tv_portal_component__[\"a\" /* TvPortal */] })))))));\r\n    };\r\n    return App;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"Component\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 122:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = initializeCastApi;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__store_reducers_casting_reducer__ = __webpack_require__(63);\n\r\nfunction initializeCastApi(store) {\r\n    window.__onGCastApiAvailable = function (isAvailable) {\r\n        if (!isAvailable) {\r\n            return;\r\n        }\r\n        var context = cast.framework.CastContext.getInstance();\r\n        context.setOptions({\r\n            receiverApplicationId: chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,\r\n            autoJoinPolicy: chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,\r\n        });\r\n        context.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED, function (event) { return store.dispatch(new __WEBPACK_IMPORTED_MODULE_0__store_reducers_casting_reducer__[\"b\" /* CastStateChanged */]({ state: event.castState })); });\r\n        context.addEventListener(cast.framework.CastContextEventType.SESSION_STATE_CHANGED, function (event) { return store.dispatch(new __WEBPACK_IMPORTED_MODULE_0__store_reducers_casting_reducer__[\"c\" /* SessionStateChanged */]({ state: event.sessionState })); });\r\n    };\r\n}\r\n\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export CastButtonComponent */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CastButton; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_redux__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_icons_lib_md_cast__ = __webpack_require__(314);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_icons_lib_md_cast___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react_icons_lib_md_cast__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react_icons_lib_md_cast_connected__ = __webpack_require__(313);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react_icons_lib_md_cast_connected___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react_icons_lib_md_cast_connected__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__cast_button_scss__ = __webpack_require__(156);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__cast_button_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__cast_button_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_autobind_decorator__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_autobind_decorator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_autobind_decorator__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar CastButtonComponent = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](CastButtonComponent, _super);\r\n    function CastButtonComponent() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CastButtonComponent.prototype.isConnected = function () {\r\n        return this.props.castState === 'CONNECTED';\r\n    };\r\n    CastButtonComponent.prototype.requestCastSession = function () {\r\n        var context = cast.framework.CastContext.getInstance();\r\n        context.requestSession();\r\n    };\r\n    CastButtonComponent.prototype.render = function () {\r\n        return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"button\", { className: this.isConnected() ? __WEBPACK_IMPORTED_MODULE_5__cast_button_scss___default.a.active : __WEBPACK_IMPORTED_MODULE_5__cast_button_scss___default.a.default, onClick: this.requestCastSession, title: 'Cast to...', type: 'button' }, this.isConnected() ? __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_react_icons_lib_md_cast_connected___default.a, null) : __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_icons_lib_md_cast___default.a, null));\r\n    };\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"f\" /* __decorate */]([\r\n        __WEBPACK_IMPORTED_MODULE_6_autobind_decorator___default.a\r\n    ], CastButtonComponent.prototype, \"requestCastSession\", null);\r\n    return CastButtonComponent;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"PureComponent\"]));\r\n\r\nvar mapStateToProps = function (state) {\r\n    return {\r\n        castState: state.casting.castState,\r\n    };\r\n};\r\nvar CastButton = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_redux__[\"b\" /* connect */])(mapStateToProps)(CastButtonComponent);\r\n\n\n/***/ }),\n\n/***/ 124:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ChannelEpg; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_redux__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__store_reducers_epg_reducer__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__channel_epg__ = __webpack_require__(125);\n\r\n\r\n\r\nfunction filterOutdatedEntries(entries) {\r\n    var index = entries.findIndex(__WEBPACK_IMPORTED_MODULE_1__store_reducers_epg_reducer__[\"a\" /* epgInAir */]);\r\n    return entries.slice(index);\r\n}\r\nfunction mapStateToProps(state, ownProps) {\r\n    return {\r\n        entries: filterOutdatedEntries(state.epg.entries[ownProps.channelId]),\r\n    };\r\n}\r\nvar ChannelEpg = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react_redux__[\"b\" /* connect */])(mapStateToProps)(__WEBPACK_IMPORTED_MODULE_2__channel_epg__[\"a\" /* ChannelEpgComponent */]);\r\n\n\n/***/ }),\n\n/***/ 125:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ChannelEpgComponent; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__store_reducers_epg_reducer__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__channel_epg_scss__ = __webpack_require__(157);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__channel_epg_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__channel_epg_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__progress_bar_progress_bar__ = __webpack_require__(58);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__formatters_time__ = __webpack_require__(57);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react_custom_scrollbars__ = __webpack_require__(88);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react_custom_scrollbars___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_react_custom_scrollbars__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__formatters_duration__ = __webpack_require__(134);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__formatters_date__ = __webpack_require__(133);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ChannelEpgComponent = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](ChannelEpgComponent, _super);\r\n    function ChannelEpgComponent() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ChannelEpgComponent.prototype.render = function () {\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_3__channel_epg_scss___default.a.host },\r\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_react_custom_scrollbars___default.a, { autoHide: true },\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_3__channel_epg_scss___default.a.entries }, this.props.entries.map(function (entry) { return (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__store_reducers_epg_reducer__[\"a\" /* epgInAir */])(entry) ? __WEBPACK_IMPORTED_MODULE_3__channel_epg_scss___default.a.entryActive : __WEBPACK_IMPORTED_MODULE_3__channel_epg_scss___default.a.entry, key: entry.startTime },\r\n                    __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_3__channel_epg_scss___default.a.mainInfo },\r\n                        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"h5\", { className: __WEBPACK_IMPORTED_MODULE_3__channel_epg_scss___default.a.name }, entry.name),\r\n                        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__store_reducers_epg_reducer__[\"a\" /* epgInAir */])(entry) && __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__progress_bar_progress_bar__[\"a\" /* ProgressBar */], { startTime: entry.startTime, endTime: entry.endTime }),\r\n                        !__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__store_reducers_epg_reducer__[\"a\" /* epgInAir */])(entry) && (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_3__channel_epg_scss___default.a.timing },\r\n                            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_3__channel_epg_scss___default.a.startTime },\r\n                                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__formatters_time__[\"a\" /* Time */], null, entry.startTime)),\r\n                            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_3__channel_epg_scss___default.a.endTime },\r\n                                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__formatters_time__[\"a\" /* Time */], null, entry.endTime))))),\r\n                    __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_3__channel_epg_scss___default.a.sideInfo },\r\n                        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"span\", { className: __WEBPACK_IMPORTED_MODULE_3__channel_epg_scss___default.a.date },\r\n                            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__formatters_date__[\"a\" /* DateFormatter */], null, entry.startTime)),\r\n                        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"span\", { className: __WEBPACK_IMPORTED_MODULE_3__channel_epg_scss___default.a.duration },\r\n                            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__formatters_duration__[\"a\" /* Duration */], null, entry.duration))))); })))));\r\n    };\r\n    return ChannelEpgComponent;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"PureComponent\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 126:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ChannelsPanel; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_redux__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__store_actions_ui_preferences_actions__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__hoc_with_channel_navigation__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__channels_panel__ = __webpack_require__(127);\n\r\n\r\n\r\n\r\nfunction getFavouritesChannels(channels, favourites) {\r\n    return channels.filter(function (channel) { return favourites.includes(channel.id); });\r\n}\r\nvar mapStateToProps = function (state) {\r\n    return {\r\n        favourites: getFavouritesChannels(state.playlist.channels, state.favourites),\r\n        channels: state.playlist.channels,\r\n        currentEpg: state.epg,\r\n        listMode: state.uiPreferences.channelListMode,\r\n    };\r\n};\r\nvar mapDispatchToProps = function (dispatch) {\r\n    return {\r\n        onChangeListMode: function (mode) {\r\n            dispatch(new __WEBPACK_IMPORTED_MODULE_1__store_actions_ui_preferences_actions__[\"a\" /* SetChannelsListMode */]({ mode: mode }));\r\n        },\r\n    };\r\n};\r\nvar ChannelsPanel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__hoc_with_channel_navigation__[\"a\" /* withChannelNavigation */])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react_redux__[\"b\" /* connect */])(mapStateToProps, mapDispatchToProps)(__WEBPACK_IMPORTED_MODULE_3__channels_panel__[\"a\" /* ChannelsPanelComponent */]));\r\n\n\n/***/ }),\n\n/***/ 127:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ChannelsPanelComponent; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__side_panel_side_panel__ = __webpack_require__(59);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__channels_grouped_channels_list_grouped_channels_list__ = __webpack_require__(129);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__channels_channels_list_channels_list__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__list_switcher_list_switcher__ = __webpack_require__(136);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__list_switcher_channel_list_modes__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__no_favourites_no_favourites__ = __webpack_require__(137);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ChannelsPanelComponent = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](ChannelsPanelComponent, _super);\r\n    function ChannelsPanelComponent() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(ChannelsPanelComponent.prototype, \"listMode\", {\r\n        get: function () {\r\n            return this.props.listMode;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ChannelsPanelComponent.prototype.getChannelsListElement = function () {\r\n        var props = {\r\n            channels: this.props.channels,\r\n            current: this.props.currentChannel,\r\n            onChangeChannel: this.props.onChangeChannel,\r\n            scrollbarController: this.scrollbarController,\r\n        };\r\n        if (this.listMode === __WEBPACK_IMPORTED_MODULE_6__list_switcher_channel_list_modes__[\"a\" /* ChannelListMode */].grouped) {\r\n            return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__channels_grouped_channels_list_grouped_channels_list__[\"a\" /* GroupedChannelsList */], __WEBPACK_IMPORTED_MODULE_0_tslib__[\"e\" /* __assign */]({}, props));\r\n        }\r\n        if (this.listMode === __WEBPACK_IMPORTED_MODULE_6__list_switcher_channel_list_modes__[\"a\" /* ChannelListMode */].favourites) {\r\n            if (this.props.favourites.length === 0) {\r\n                return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__no_favourites_no_favourites__[\"a\" /* NoFavourites */], null);\r\n            }\r\n            return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__channels_channels_list_channels_list__[\"a\" /* ChannelsList */], __WEBPACK_IMPORTED_MODULE_0_tslib__[\"e\" /* __assign */]({}, props, { channels: this.props.favourites }));\r\n        }\r\n        return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__channels_channels_list_channels_list__[\"a\" /* ChannelsList */], __WEBPACK_IMPORTED_MODULE_0_tslib__[\"e\" /* __assign */]({}, props));\r\n    };\r\n    ChannelsPanelComponent.prototype.render = function () {\r\n        var _this = this;\r\n        var header = __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__list_switcher_list_switcher__[\"a\" /* ListSwitcher */], { onSwitch: this.props.onChangeListMode, current: this.props.listMode });\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__side_panel_side_panel__[\"a\" /* SidePanel */], { provideScrollbarCtrl: function (ctrl) { return _this.scrollbarController = ctrl; }, header: header, body: this.getChannelsListElement() }));\r\n    };\r\n    return ChannelsPanelComponent;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"PureComponent\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 128:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ChannelDetail; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_redux__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__store_reducers_epg_reducer__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__formatters_time__ = __webpack_require__(57);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__progress_bar_progress_bar__ = __webpack_require__(58);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__channels_detail_scss__ = __webpack_require__(158);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__channels_detail_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__channels_detail_scss__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ChannelDetailComponent = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](ChannelDetailComponent, _super);\r\n    function ChannelDetailComponent() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ChannelDetailComponent.prototype.getEpg = function () {\r\n        var current = this.props.epg.find(__WEBPACK_IMPORTED_MODULE_3__store_reducers_epg_reducer__[\"a\" /* epgInAir */]);\r\n        var currentIndex = this.props.epg.indexOf(current);\r\n        var next = null;\r\n        if (currentIndex + 1 <= this.props.epg.length) {\r\n            next = this.props.epg[currentIndex + 1];\r\n        }\r\n        return { current: current, next: next };\r\n    };\r\n    ChannelDetailComponent.prototype.componentDidMount = function () {\r\n        var _this = this;\r\n        this.timerId = window.setInterval(function () {\r\n            _this.setState({ time: Date.now() });\r\n        }, 1000 * 5);\r\n    };\r\n    ChannelDetailComponent.prototype.componentWillUnmount = function () {\r\n        window.clearInterval(this.timerId);\r\n    };\r\n    ChannelDetailComponent.prototype.render = function () {\r\n        var epg = this.getEpg();\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_6__channels_detail_scss___default.a.details },\r\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"h5\", { title: this.props.channel.name, className: __WEBPACK_IMPORTED_MODULE_6__channels_detail_scss___default.a.name }, this.props.channel.name),\r\n            epg.current && __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { title: ': ' + epg.current.name, className: __WEBPACK_IMPORTED_MODULE_6__channels_detail_scss___default.a.currentProgram },\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"span\", { className: __WEBPACK_IMPORTED_MODULE_6__channels_detail_scss___default.a.time },\r\n                    __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__formatters_time__[\"a\" /* Time */], null, epg.current.startTime)),\r\n                epg.current.name),\r\n            epg.current &&\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__progress_bar_progress_bar__[\"a\" /* ProgressBar */], { startTime: epg.current.startTime, endTime: epg.current.endTime }),\r\n            epg.next &&\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { title: ': ' + epg.next.name, className: __WEBPACK_IMPORTED_MODULE_6__channels_detail_scss___default.a.nextProgram },\r\n                    __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"span\", { className: __WEBPACK_IMPORTED_MODULE_6__channels_detail_scss___default.a.time },\r\n                        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__formatters_time__[\"a\" /* Time */], null, epg.next.startTime)),\r\n                    epg.next.name)));\r\n    };\r\n    return ChannelDetailComponent;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"PureComponent\"]));\r\nvar mapStateToProps = function (state, ownProps) {\r\n    return {\r\n        epg: state.epg.entries[ownProps.channel.id] || [],\r\n    };\r\n};\r\nvar ChannelDetail = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_redux__[\"b\" /* connect */])(mapStateToProps)(ChannelDetailComponent);\r\n\n\n/***/ }),\n\n/***/ 129:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return GroupedChannelsList; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__channels_list_channels_list__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__grouped_channels_list_scss__ = __webpack_require__(160);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__grouped_channels_list_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__grouped_channels_list_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_lodash_groupBy__ = __webpack_require__(282);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_lodash_groupBy___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_lodash_groupBy__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react_icons_lib_fa_angle_right__ = __webpack_require__(308);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react_icons_lib_fa_angle_right___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_react_icons_lib_fa_angle_right__);\n\r\n\r\n\r\n\r\n\r\n\r\nvar GroupedChannelsList = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](GroupedChannelsList, _super);\r\n    function GroupedChannelsList() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.groups = [];\r\n        _this.state = {\r\n            expanded: {},\r\n        };\r\n        return _this;\r\n    }\r\n    GroupedChannelsList.prototype.componentWillMount = function () {\r\n        this.prepareData(this.props.channels, this.props.current);\r\n    };\r\n    GroupedChannelsList.prototype.componentWillReceiveProps = function (props) {\r\n        this.prepareData(props.channels, props.current);\r\n    };\r\n    GroupedChannelsList.prototype.expandGroup = function (group) {\r\n        this.setState({ expanded: __WEBPACK_IMPORTED_MODULE_0_tslib__[\"e\" /* __assign */]({}, this.state.expanded, (_a = {}, _a[group.name] = true, _a)) });\r\n        var _a;\r\n    };\r\n    GroupedChannelsList.prototype.toggleGroup = function (group) {\r\n        this.setState({ expanded: __WEBPACK_IMPORTED_MODULE_0_tslib__[\"e\" /* __assign */]({}, this.state.expanded, (_a = {}, _a[group.name] = !this.state.expanded[group.name], _a)) });\r\n        var _a;\r\n    };\r\n    GroupedChannelsList.prototype.isExpanded = function (group) {\r\n        return this.state.expanded[group.name];\r\n    };\r\n    GroupedChannelsList.prototype.prepareData = function (channels, current) {\r\n        var _this = this;\r\n        var grouped = __WEBPACK_IMPORTED_MODULE_4_lodash_groupBy___default()(channels, function (channel) { return channel.groupTitle; });\r\n        this.groups = Object.keys(grouped).map(function (name) {\r\n            var group = {\r\n                name: name,\r\n                channels: grouped[name],\r\n            };\r\n            if (current && group.channels.includes(current)) {\r\n                _this.expandGroup(group);\r\n            }\r\n            return group;\r\n        });\r\n    };\r\n    GroupedChannelsList.prototype.render = function () {\r\n        var _this = this;\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_3__grouped_channels_list_scss___default.a.host }, this.groups.map(function (group, i) {\r\n            return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: _this.isExpanded(group) ? __WEBPACK_IMPORTED_MODULE_3__grouped_channels_list_scss___default.a.groupExpanded : __WEBPACK_IMPORTED_MODULE_3__grouped_channels_list_scss___default.a.groupCollapsed, key: i },\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { onClick: function () { return _this.toggleGroup(group); }, className: __WEBPACK_IMPORTED_MODULE_3__grouped_channels_list_scss___default.a.header },\r\n                    group.name,\r\n                    __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_3__grouped_channels_list_scss___default.a.arrowIcon },\r\n                        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_react_icons_lib_fa_angle_right___default.a, null))),\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_3__grouped_channels_list_scss___default.a.body },\r\n                    __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__channels_list_channels_list__[\"a\" /* ChannelsList */], __WEBPACK_IMPORTED_MODULE_0_tslib__[\"e\" /* __assign */]({}, _this.props, { channels: group.channels }))));\r\n        })));\r\n    };\r\n    return GroupedChannelsList;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"Component\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 130:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return SelectableChannelsList; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__selectable_channels_list_scss__ = __webpack_require__(161);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__selectable_channels_list_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__selectable_channels_list_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__channels_list_channels_list__ = __webpack_require__(34);\n\r\n\r\n\r\n\r\nvar SelectableChannelsList = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](SelectableChannelsList, _super);\r\n    function SelectableChannelsList() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SelectableChannelsList.prototype.handleCheckBoxChange = function (channel) {\r\n        var selected;\r\n        if (this.isSelected(channel)) {\r\n            selected = this.props.selected.filter(function (id) { return id !== channel.id; });\r\n        }\r\n        else {\r\n            selected = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"g\" /* __spread */](this.props.selected, [channel.id]);\r\n        }\r\n        this.props.onSelectionChange(selected);\r\n    };\r\n    SelectableChannelsList.prototype.isSelected = function (channel) {\r\n        return this.props.selected.includes(channel.id);\r\n    };\r\n    SelectableChannelsList.prototype.getControl = function () {\r\n        var _this = this;\r\n        return function (channel) { return (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { onClick: function (e) { return e.stopPropagation(); }, className: __WEBPACK_IMPORTED_MODULE_2__selectable_channels_list_scss___default.a.checkbox },\r\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"input\", { defaultChecked: _this.isSelected(channel), type: 'checkbox', id: \"channel\" + channel.id, onChange: function () { return _this.handleCheckBoxChange(channel); } }),\r\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"label\", { htmlFor: \"channel\" + channel.id }, \"Select\"))); };\r\n    };\r\n    SelectableChannelsList.prototype.render = function () {\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__channels_list_channels_list__[\"a\" /* ChannelsList */], __WEBPACK_IMPORTED_MODULE_0_tslib__[\"e\" /* __assign */]({}, this.props, { control: this.getControl() })));\r\n    };\r\n    return SelectableChannelsList;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"PureComponent\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 131:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export FavouritesEditorComponent */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return FavouritesEditor; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_autobind_decorator__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_autobind_decorator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_autobind_decorator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_redux__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__store_actions_favourites_actions__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__channels_selectable_channels_list_selectable_channels_list__ = __webpack_require__(130);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__hoc_with_channel_navigation__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__side_panel_side_panel__ = __webpack_require__(59);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__save_bar_save_bar__ = __webpack_require__(132);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar FavouritesEditorComponent = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](FavouritesEditorComponent, _super);\r\n    function FavouritesEditorComponent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {\r\n            selectedChannels: _this.props.favourites,\r\n            touched: false,\r\n        };\r\n        return _this;\r\n    }\r\n    FavouritesEditorComponent.prototype.handleSelectionChange = function (selection) {\r\n        this.setState({ selectedChannels: selection, touched: true });\r\n    };\r\n    FavouritesEditorComponent.prototype.render = function () {\r\n        var _this = this;\r\n        var header = __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__save_bar_save_bar__[\"a\" /* SaveBar */], { saveDisabled: !this.state.selectedChannels.length || !this.state.touched, onSave: function () { return _this.props.onSave(_this.state.selectedChannels); }, onCancel: this.props.onCancel });\r\n        var body = __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__channels_selectable_channels_list_selectable_channels_list__[\"a\" /* SelectableChannelsList */], { channels: this.props.channels, selected: this.state.selectedChannels, onChangeChannel: this.props.onChangeChannel, onSelectionChange: this.handleSelectionChange });\r\n        return (__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__side_panel_side_panel__[\"a\" /* SidePanel */], { header: header, body: body }));\r\n    };\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"f\" /* __decorate */]([\r\n        __WEBPACK_IMPORTED_MODULE_1_autobind_decorator___default.a\r\n    ], FavouritesEditorComponent.prototype, \"handleSelectionChange\", null);\r\n    return FavouritesEditorComponent;\r\n}(__WEBPACK_IMPORTED_MODULE_2_react__[\"Component\"]));\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        channels: state.playlist.channels,\r\n        favourites: state.favourites,\r\n    };\r\n}\r\nfunction mapDispatchToProps(dispatch, ownProps) {\r\n    return {\r\n        onSave: function (favourites) {\r\n            dispatch(new __WEBPACK_IMPORTED_MODULE_4__store_actions_favourites_actions__[\"a\" /* SaveFavourites */]({ favourites: favourites }));\r\n            ownProps.history.push('/');\r\n        },\r\n        onCancel: function () { return ownProps.history.push('/'); },\r\n    };\r\n}\r\nvar FavouritesEditor = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__hoc_with_channel_navigation__[\"a\" /* withChannelNavigation */])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_react_redux__[\"b\" /* connect */])(mapStateToProps, mapDispatchToProps)(FavouritesEditorComponent));\r\n\n\n/***/ }),\n\n/***/ 132:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return SaveBar; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_icons_lib_fa_check__ = __webpack_require__(309);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_icons_lib_fa_check___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react_icons_lib_fa_check__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_repeat__ = __webpack_require__(312);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_repeat___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_repeat__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__save_bar_scss__ = __webpack_require__(162);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__save_bar_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__save_bar_scss__);\n\r\n\r\n\r\n\r\n\r\nvar SaveBar = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](SaveBar, _super);\r\n    function SaveBar() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SaveBar.prototype.render = function () {\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_4__save_bar_scss___default.a.saveBar },\r\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_4__save_bar_scss___default.a.btns },\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"button\", { className: __WEBPACK_IMPORTED_MODULE_4__save_bar_scss___default.a.btnSave, disabled: this.props.saveDisabled, title: 'Save', onClick: this.props.onSave },\r\n                    __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_react_icons_lib_fa_check___default.a, null)),\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"button\", { className: __WEBPACK_IMPORTED_MODULE_4__save_bar_scss___default.a.btnCancel, title: 'Cancel', onClick: this.props.onCancel },\r\n                    __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_repeat___default.a, null)))));\r\n    };\r\n    return SaveBar;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"PureComponent\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 133:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DateFormatter; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n\r\n\r\nvar DateFormatter = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](DateFormatter, _super);\r\n    function DateFormatter() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DateFormatter.prototype.format = function (ts) {\r\n        var date = new Date(ts * 1000);\r\n        return date.toLocaleDateString();\r\n    };\r\n    DateFormatter.prototype.render = function () {\r\n        return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"span\", null, this.format(this.props.children));\r\n    };\r\n    return DateFormatter;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"Component\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 134:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Duration; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n\r\n\r\nvar Duration = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](Duration, _super);\r\n    function Duration() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Duration.prototype.format = function (value) {\r\n        var minutes = value / 60;\r\n        if (minutes < 60) {\r\n            return minutes + \" min\";\r\n        }\r\n        var hours = Math.floor(minutes / 60);\r\n        return hours + \"h \" + (minutes - hours * 60) + \" min\";\r\n    };\r\n    Duration.prototype.render = function () {\r\n        return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"span\", null, this.format(this.props.children));\r\n    };\r\n    return Duration;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"Component\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 135:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return HeaderWithRouter; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__header_scss__ = __webpack_require__(163);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__header_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__header_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_cog__ = __webpack_require__(310);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_cog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_cog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_autobind_decorator__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_autobind_decorator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_autobind_decorator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react_router__ = __webpack_require__(101);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__cast_button_cast_button__ = __webpack_require__(123);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar Header = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](Header, _super);\r\n    function Header() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Header.prototype.goToSettings = function () {\r\n        this.props.history.push('/settings');\r\n    };\r\n    Header.prototype.render = function () {\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"header\", { className: __WEBPACK_IMPORTED_MODULE_2__header_scss___default.a.host },\r\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_2__header_scss___default.a.channelsBtns }),\r\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_2__header_scss___default.a.settingsBtns },\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__cast_button_cast_button__[\"a\" /* CastButton */], null),\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"button\", { className: __WEBPACK_IMPORTED_MODULE_2__header_scss___default.a.btn, onClick: this.goToSettings, title: 'Settings', type: 'button' },\r\n                    __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_cog___default.a, null)))));\r\n    };\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"f\" /* __decorate */]([\r\n        __WEBPACK_IMPORTED_MODULE_4_autobind_decorator___default.a\r\n    ], Header.prototype, \"goToSettings\", null);\r\n    return Header;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"PureComponent\"]));\r\nvar HeaderWithRouter = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_react_router__[\"b\" /* withRouter */])(Header);\r\n\n\n/***/ }),\n\n/***/ 136:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ListSwitcher; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_icons_lib_fa_star__ = __webpack_require__(89);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_icons_lib_fa_star___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react_icons_lib_fa_star__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_align_justify__ = __webpack_require__(307);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_align_justify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_align_justify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react_icons_lib_fa_folder__ = __webpack_require__(311);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react_icons_lib_fa_folder___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react_icons_lib_fa_folder__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__channel_list_modes__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__list_switcher_scss__ = __webpack_require__(164);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__list_switcher_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__list_switcher_scss__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ListSwitcher = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](ListSwitcher, _super);\r\n    function ListSwitcher() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.options = [\r\n            {\r\n                btnTitle: 'Show favourites',\r\n                title: 'Favourites',\r\n                icon: __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_react_icons_lib_fa_star___default.a, null),\r\n                type: __WEBPACK_IMPORTED_MODULE_5__channel_list_modes__[\"a\" /* ChannelListMode */].favourites,\r\n            },\r\n            {\r\n                btnTitle: 'Show all',\r\n                title: 'All',\r\n                icon: __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_align_justify___default.a, null),\r\n                type: __WEBPACK_IMPORTED_MODULE_5__channel_list_modes__[\"a\" /* ChannelListMode */].all,\r\n            },\r\n            {\r\n                btnTitle: 'Show by categories',\r\n                title: 'Categories',\r\n                icon: __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_react_icons_lib_fa_folder___default.a, null),\r\n                type: __WEBPACK_IMPORTED_MODULE_5__channel_list_modes__[\"a\" /* ChannelListMode */].grouped,\r\n            },\r\n        ];\r\n        return _this;\r\n    }\r\n    ListSwitcher.prototype.isCurrent = function (option) {\r\n        return option.type === this.props.current;\r\n    };\r\n    Object.defineProperty(ListSwitcher.prototype, \"current\", {\r\n        get: function () {\r\n            return this.options.find(this.isCurrent.bind(this));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ListSwitcher.prototype.render = function () {\r\n        var _this = this;\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_6__list_switcher_scss___default.a.listSwitcher },\r\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"h3\", { className: __WEBPACK_IMPORTED_MODULE_6__list_switcher_scss___default.a.currentModeTitle }, this.current.title),\r\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_6__list_switcher_scss___default.a.options }, this.options.map(function (option, i) { return (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"button\", { className: _this.isCurrent(option) ? __WEBPACK_IMPORTED_MODULE_6__list_switcher_scss___default.a.optionCurrent : __WEBPACK_IMPORTED_MODULE_6__list_switcher_scss___default.a.option, key: i, onClick: function () { return _this.props.onSwitch(option.type); }, title: option.btnTitle }, option.icon)); }))));\r\n    };\r\n    return ListSwitcher;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"PureComponent\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return NoFavourites; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_router_dom__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_star__ = __webpack_require__(89);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_star___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_star__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__no_favourites_scss__ = __webpack_require__(165);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__no_favourites_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__no_favourites_scss__);\n\r\n\r\n\r\n\r\n\r\nvar NoFavourites = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](NoFavourites, _super);\r\n    function NoFavourites() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    NoFavourites.prototype.render = function () {\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_4__no_favourites_scss___default.a.host },\r\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_4__no_favourites_scss___default.a.noFavIcon },\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_icons_lib_fa_star___default.a, null)),\r\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_4__no_favourites_scss___default.a.text },\r\n                \"Favorites are not set yet \",\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"br\", null),\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_react_router_dom__[\"d\" /* Link */], { className: __WEBPACK_IMPORTED_MODULE_4__no_favourites_scss___default.a.action, to: '/edit-favourites' }, \"Set Now..\"))));\r\n    };\r\n    return NoFavourites;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"PureComponent\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 138:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PlayerArea; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__video_player_video_player__ = __webpack_require__(141);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__player_area_scss__ = __webpack_require__(166);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__player_area_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__player_area_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__channel_epg_channel_epg_container__ = __webpack_require__(124);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react_redux__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__hoc_with_channel_navigation__ = __webpack_require__(35);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar PlayerAreaComponent = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](PlayerAreaComponent, _super);\r\n    function PlayerAreaComponent() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    PlayerAreaComponent.prototype.getStreamUrl = function (channel) {\r\n        return ((channel && channel.stream) || '')\r\n            .replace('{KEY}', this.props.currentKey);\r\n    };\r\n    PlayerAreaComponent.prototype.componentWillReceiveProps = function (nextProps) {\r\n        this.setMediaToCast(nextProps.castingSessionState, nextProps.currentChannel);\r\n    };\r\n    PlayerAreaComponent.prototype.setMediaToCast = function (sessionState, channel) {\r\n        if (!this.isCastingEnabled(sessionState) || !channel) {\r\n            return;\r\n        }\r\n        var media = chrome.cast.media;\r\n        var castSession = cast.framework.CastContext.getInstance().getCurrentSession();\r\n        var mediaInfo = new media.MediaInfo(this.getStreamUrl(channel), 'application/x-mpegURL');\r\n        var request = new media.LoadRequest(mediaInfo);\r\n        mediaInfo.metadata = new media.GenericMediaMetadata();\r\n        mediaInfo.metadata.title = channel.name;\r\n        castSession.loadMedia(request);\r\n    };\r\n    PlayerAreaComponent.prototype.isCastingEnabled = function (sessionState) {\r\n        return ['SESSION_STARTED', 'SESSION_RESUMED'].includes(sessionState);\r\n    };\r\n    PlayerAreaComponent.prototype.render = function () {\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_3__player_area_scss___default.a.mainPanel },\r\n            !this.isCastingEnabled(this.props.castingSessionState) ? (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_3__player_area_scss___default.a.playerContainer },\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__video_player_video_player__[\"a\" /* VideoPlayer */], { src: this.getStreamUrl(this.props.currentChannel) }))) : null,\r\n            this.props.currentChannel && __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__channel_epg_channel_epg_container__[\"a\" /* ChannelEpg */], { channelId: this.props.currentChannel.id })));\r\n    };\r\n    return PlayerAreaComponent;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"PureComponent\"]));\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currentKey: state.settings.currentKey,\r\n        castingSessionState: state.casting.sessionState,\r\n    };\r\n}\r\nvar PlayerArea = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__hoc_with_channel_navigation__[\"a\" /* withChannelNavigation */])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_react_redux__[\"b\" /* connect */])(mapStateToProps)(PlayerAreaComponent));\r\n\n\n/***/ }),\n\n/***/ 139:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export SettingsComponent */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Settings; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_autobind_decorator__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_autobind_decorator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_autobind_decorator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_redux__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__store_actions_settings_actions__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__settings_scss__ = __webpack_require__(168);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__settings_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__settings_scss__);\n\r\n\r\n\r\n\r\n\r\n\r\nvar SettingsComponent = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](SettingsComponent, _super);\r\n    function SettingsComponent() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SettingsComponent.prototype.handleSubmit = function ($event) {\r\n        $event.preventDefault();\r\n        this.props.onSubmit({\r\n            playlistUrl: this.playlistInput.value,\r\n            currentKey: this.keyInput.value,\r\n        });\r\n    };\r\n    SettingsComponent.prototype.handleCancel = function () {\r\n        this.props.onCancel();\r\n    };\r\n    SettingsComponent.prototype.render = function () {\r\n        var _this = this;\r\n        return (__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_5__settings_scss___default.a.host },\r\n            __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\"h2\", { className: __WEBPACK_IMPORTED_MODULE_5__settings_scss___default.a.title }, \"Settings\"),\r\n            __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\"form\", { onSubmit: this.handleSubmit, className: __WEBPACK_IMPORTED_MODULE_5__settings_scss___default.a.gridForm },\r\n                __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\"label\", { className: __WEBPACK_IMPORTED_MODULE_5__settings_scss___default.a.blockField },\r\n                    __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\"input\", { ref: function (inp) { return _this.playlistInput = inp; }, defaultValue: this.props.playlistUrl, type: 'text', name: 'playlist-url' }),\r\n                    __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\"span\", { className: __WEBPACK_IMPORTED_MODULE_5__settings_scss___default.a.fieldLabel }, \"Playlist Url\")),\r\n                __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\"label\", { className: __WEBPACK_IMPORTED_MODULE_5__settings_scss___default.a.blockField },\r\n                    __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\"input\", { ref: function (inp) { return _this.keyInput = inp; }, defaultValue: this.props.currentKey, type: 'text', name: 'auth-key' }),\r\n                    __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\"span\", { className: __WEBPACK_IMPORTED_MODULE_5__settings_scss___default.a.fieldLabel }, \"Key\")),\r\n                __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_5__settings_scss___default.a.formActions },\r\n                    __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\"button\", { className: __WEBPACK_IMPORTED_MODULE_5__settings_scss___default.a.submitBtn, type: 'submit' }, \"Save\"),\r\n                    __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\"button\", { className: __WEBPACK_IMPORTED_MODULE_5__settings_scss___default.a.cancelBtn, onClick: this.handleCancel, type: 'button' }, \"Cancel\")))));\r\n    };\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"f\" /* __decorate */]([\r\n        __WEBPACK_IMPORTED_MODULE_1_autobind_decorator___default.a\r\n    ], SettingsComponent.prototype, \"handleSubmit\", null);\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"f\" /* __decorate */]([\r\n        __WEBPACK_IMPORTED_MODULE_1_autobind_decorator___default.a\r\n    ], SettingsComponent.prototype, \"handleCancel\", null);\r\n    return SettingsComponent;\r\n}(__WEBPACK_IMPORTED_MODULE_2_react__[\"PureComponent\"]));\r\n\r\nfunction mapStateToProps(state) {\r\n    return state.settings;\r\n}\r\nfunction mapDispatchToProps(dispatch, ownProps) {\r\n    return {\r\n        onSubmit: function (settings) {\r\n            dispatch(new __WEBPACK_IMPORTED_MODULE_4__store_actions_settings_actions__[\"a\" /* ChangeSettings */]({ settings: settings }));\r\n            ownProps.history.push('/');\r\n        },\r\n        onCancel: function () { return ownProps.history.push('/'); },\r\n    };\r\n}\r\nvar Settings = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_react_redux__[\"b\" /* connect */])(mapStateToProps, mapDispatchToProps)(SettingsComponent);\r\n\n\n/***/ }),\n\n/***/ 140:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export TvPortalComponent */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return TvPortal; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_redux__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_router__ = __webpack_require__(101);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react_router_dom__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__store_actions_epg_actions__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__store_actions_playlist_actions__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__channels_panel_channels_panel_container__ = __webpack_require__(126);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__favourites_editor_favourites_editor__ = __webpack_require__(131);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__player_area_player_area_component__ = __webpack_require__(138);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__tv_portal_scss__ = __webpack_require__(170);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__tv_portal_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10__tv_portal_scss__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar TvPortalComponent = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](TvPortalComponent, _super);\r\n    function TvPortalComponent() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TvPortalComponent.prototype.componentDidMount = function () {\r\n        if (this.props.playlistUrl) {\r\n            this.props.onFetchData(this.props.playlistUrl);\r\n        }\r\n    };\r\n    TvPortalComponent.prototype.componentWillUnmount = function () {\r\n        this.props.onUnmount();\r\n    };\r\n    TvPortalComponent.prototype.render = function () {\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_10__tv_portal_scss___default.a.host },\r\n            !this.props.playlistUrl ? __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_router__[\"a\" /* Redirect */], { to: '/settings' }) : null,\r\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_react_router_dom__[\"b\" /* Switch */], null,\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_react_router_dom__[\"c\" /* Route */], { exact: true, path: '/edit-favourites', component: __WEBPACK_IMPORTED_MODULE_8__favourites_editor_favourites_editor__[\"a\" /* FavouritesEditor */] }),\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_react_router_dom__[\"c\" /* Route */], { path: this.props.match.path, component: __WEBPACK_IMPORTED_MODULE_7__channels_panel_channels_panel_container__[\"a\" /* ChannelsPanel */] })),\r\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_react_router_dom__[\"c\" /* Route */], { path: this.props.match.path, component: __WEBPACK_IMPORTED_MODULE_9__player_area_player_area_component__[\"a\" /* PlayerArea */] })));\r\n    };\r\n    return TvPortalComponent;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"PureComponent\"]));\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currentKey: state.settings.currentKey,\r\n        playlistUrl: state.settings.playlistUrl,\r\n    };\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    var _this = this;\r\n    return {\r\n        onFetchData: function (playlistUrl) { return __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __awaiter */](_this, void 0, void 0, function () {\r\n            return __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __generator */](this, function (_a) {\r\n                dispatch(new __WEBPACK_IMPORTED_MODULE_6__store_actions_playlist_actions__[\"a\" /* RequestPlaylist */]({ playlistUrl: playlistUrl }));\r\n                return [2 /*return*/];\r\n            });\r\n        }); },\r\n        onUnmount: function () {\r\n            dispatch(new __WEBPACK_IMPORTED_MODULE_5__store_actions_epg_actions__[\"a\" /* StopEpgSync */]());\r\n        },\r\n    };\r\n}\r\nvar TvPortal = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_redux__[\"b\" /* connect */])(mapStateToProps, mapDispatchToProps)(TvPortalComponent);\r\n\n\n/***/ }),\n\n/***/ 141:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return VideoPlayer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__libs_video__ = __webpack_require__(145);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__video_player_scss__ = __webpack_require__(171);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__video_player_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__video_player_scss__);\n\r\n\r\n\r\n\r\nvar VideoPlayer = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](VideoPlayer, _super);\r\n    function VideoPlayer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    VideoPlayer.prototype.componentDidMount = function () {\r\n        this.player = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__libs_video__[\"a\" /* default */])(this.refs.video, {\r\n            autoplay: true,\r\n            fluid: true,\r\n            controls: true,\r\n        });\r\n        if (this.props.src) {\r\n            this.updateSrc(this.props.src);\r\n        }\r\n    };\r\n    VideoPlayer.prototype.componentWillUnmount = function () {\r\n        if (this.player) {\r\n            this.player.dispose();\r\n        }\r\n    };\r\n    VideoPlayer.prototype.componentWillReceiveProps = function (nextProps) {\r\n        if (this.player && nextProps.src && (nextProps.src !== this.props.src)) {\r\n            this.updateSrc(nextProps.src);\r\n        }\r\n    };\r\n    VideoPlayer.prototype.updateSrc = function (src) {\r\n        this.player.ready(function () {\r\n            this.src({\r\n                src: src,\r\n                type: 'application/x-mpegURL',\r\n            });\r\n        });\r\n    };\r\n    VideoPlayer.prototype.shouldComponentUpdate = function () {\r\n        return false;\r\n    };\r\n    VideoPlayer.prototype.render = function () {\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { \"data-vjs-player\": true, className: 'video-js vjs-big-play-centered' },\r\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"video\", { ref: 'video' })));\r\n    };\r\n    return VideoPlayer;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"Component\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 142:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export OttDataBase */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return db; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_dexie__ = __webpack_require__(154);\n\r\n\r\nvar OttDataBase = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](OttDataBase, _super);\r\n    function OttDataBase() {\r\n        var _this = _super.call(this, 'OttPlayerDb') || this;\r\n        _this.version(1).stores({\r\n            epg: '++, *chId',\r\n        });\r\n        return _this;\r\n    }\r\n    return OttDataBase;\r\n}(__WEBPACK_IMPORTED_MODULE_1_dexie__[\"a\" /* default */]));\r\n\r\nvar db = new OttDataBase();\r\n\n\n/***/ }),\n\n/***/ 143:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PlaylistParser; });\n/* unused harmony export M3uTagParser */\n/* unused harmony export ExtTagParser */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n\r\nvar PlaylistParser = /** @class */ (function () {\r\n    function PlaylistParser() {\r\n        this.errors = [];\r\n        this.result = new ResultBuilder();\r\n    }\r\n    PlaylistParser.prototype.parse = function (data) {\r\n        if (!data) {\r\n            return this.throwError('no data specified');\r\n        }\r\n        data = data.trim();\r\n        if (!M3uTagParser.check(data)) {\r\n            return this.throwError('Playlist file should starts from #EXTM3U tag');\r\n        }\r\n        data\r\n            .match(/[^\\r\\n]+/g)\r\n            .forEach(this.parseLine.bind(this));\r\n        return {\r\n            errors: this.errors,\r\n            playlist: this.result.getResult(),\r\n        };\r\n    };\r\n    PlaylistParser.prototype.throwError = function (error) {\r\n        this.errors.push(error);\r\n        return {\r\n            errors: this.errors,\r\n            playlist: null,\r\n        };\r\n    };\r\n    PlaylistParser.prototype.parseLine = function (string, index) {\r\n        if (index === 0 && M3uTagParser.check(string)) {\r\n            var global_1 = this.mapKeyValue(M3uTagParser.parse(string));\r\n            this.result.setGlobalData(global_1);\r\n        }\r\n        else if (ExtTagParser.check(string)) {\r\n            var ext = this.mapKeyValue(ExtTagParser.parse(string));\r\n            this.result.addChannel(ext);\r\n        }\r\n        else {\r\n            this.result.setChannelStream(string);\r\n        }\r\n    };\r\n    PlaylistParser.prototype.mapKeyValue = function (array) {\r\n        return array.reduce(function (acc, entry) {\r\n            var key = entry.key, value = entry.value;\r\n            acc[key] = value;\r\n            return acc;\r\n        }, {});\r\n    };\r\n    return PlaylistParser;\r\n}());\r\n\r\nvar M3uTagParser = /** @class */ (function () {\r\n    function M3uTagParser() {\r\n    }\r\n    M3uTagParser.check = function (string) {\r\n        return string.indexOf('#EXTM3U') === 0;\r\n    };\r\n    M3uTagParser.parse = function (line) {\r\n        return line.match(/([a-z-]+)=\"(.+?)\"/g).map(function (string) {\r\n            var _a = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"d\" /* __read */](string.replace(/\"/g, '').split('='), 2), key = _a[0], value = _a[1];\r\n            return { key: key, value: value };\r\n        });\r\n    };\r\n    return M3uTagParser;\r\n}());\r\n\r\nvar ExtTagParser = /** @class */ (function () {\r\n    function ExtTagParser() {\r\n    }\r\n    ExtTagParser.check = function (string) {\r\n        return string.indexOf('#EXTINF') === 0;\r\n    };\r\n    ExtTagParser.parse = function (line) {\r\n        var params = M3uTagParser.parse(line);\r\n        params.push({ key: 'channel-name', value: line.match(/,\\s?(.+)/)[1] });\r\n        return params;\r\n    };\r\n    return ExtTagParser;\r\n}());\r\n\r\nvar ResultBuilder = /** @class */ (function () {\r\n    function ResultBuilder() {\r\n        this.data = {\r\n            urlEpg: null,\r\n            urlLogo: null,\r\n            keyRequired: null,\r\n            channels: [],\r\n        };\r\n    }\r\n    ResultBuilder.prototype.getResult = function () {\r\n        return this.data;\r\n    };\r\n    ResultBuilder.prototype.setGlobalData = function (data) {\r\n        this.data.urlEpg = data['url-epg'];\r\n        this.data.urlLogo = data['url-logo'];\r\n    };\r\n    ResultBuilder.prototype.addChannel = function (data) {\r\n        this.data.channels.push({\r\n            id: +data['tvg-id'],\r\n            name: data['channel-name'],\r\n            logo: this.data.urlLogo + data['tvg-logo'],\r\n            archive: data['tvg-rec'] === '1',\r\n            groupTitle: data['group-title'],\r\n            stream: null,\r\n        });\r\n    };\r\n    ResultBuilder.prototype.setChannelStream = function (streamUrl) {\r\n        if (!this.data.keyRequired) {\r\n            this.data.keyRequired = streamUrl.indexOf('{KEY}') !== -1;\r\n        }\r\n        this.data.channels[this.data.channels.length - 1].stream = streamUrl;\r\n    };\r\n    return ResultBuilder;\r\n}());\r\n\n\n/***/ }),\n\n/***/ 144:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return LocalStorageFactory; });\n/* unused harmony export StorageProxy */\nvar LocalStorageFactory = /** @class */ (function () {\r\n    function LocalStorageFactory() {\r\n    }\r\n    LocalStorageFactory.create = function (componentName) {\r\n        return new StorageProxy(componentName, window.localStorage);\r\n    };\r\n    return LocalStorageFactory;\r\n}());\r\n\r\nvar StorageProxy = /** @class */ (function () {\r\n    function StorageProxy(key, storage) {\r\n        this.key = key;\r\n        this.storage = storage;\r\n    }\r\n    StorageProxy.prototype.get = function (defaultValue) {\r\n        var value = JSON.parse(this.storage.getItem(this.key));\r\n        this.lastValue = value;\r\n        return value === null ? defaultValue : value;\r\n    };\r\n    StorageProxy.prototype.set = function (value) {\r\n        if (this.lastValue === value) {\r\n            return;\r\n        }\r\n        this.lastValue = value;\r\n        this.storage.setItem(this.key, JSON.stringify(value));\r\n    };\r\n    StorageProxy.prototype.remove = function () {\r\n        this.storage.removeItem(this.key);\r\n    };\r\n    return StorageProxy;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 145:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_video_js__ = __webpack_require__(115);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_video_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_video_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_videojs_contrib_hls__ = __webpack_require__(357);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_videojs_contrib_hls___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_videojs_contrib_hls__);\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0_video_js___default.a);\r\n\n\n/***/ }),\n\n/***/ 146:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return store; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_redux__ = __webpack_require__(110);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_redux_saga__ = __webpack_require__(103);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_redux_thunk__ = __webpack_require__(340);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_redux_thunk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_redux_thunk__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__casting_initialize_casting_api__ = __webpack_require__(122);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__libs_storage__ = __webpack_require__(144);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__reducers_casting_reducer__ = __webpack_require__(63);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__reducers_epg_reducer__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__reducers_favourites_reducer__ = __webpack_require__(147);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__reducers_playlist_reducer__ = __webpack_require__(148);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__reducers_settings_reducer__ = __webpack_require__(149);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__reducers_ui_preferences_reducer__ = __webpack_require__(150);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__sagas__ = __webpack_require__(152);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ottApp = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_redux__[\"b\" /* combineReducers */])({\r\n    playlist: __WEBPACK_IMPORTED_MODULE_8__reducers_playlist_reducer__[\"a\" /* playlistReducer */],\r\n    favourites: __WEBPACK_IMPORTED_MODULE_7__reducers_favourites_reducer__[\"a\" /* favouritesReducer */],\r\n    settings: __WEBPACK_IMPORTED_MODULE_9__reducers_settings_reducer__[\"a\" /* settingsReducer */],\r\n    epg: __WEBPACK_IMPORTED_MODULE_6__reducers_epg_reducer__[\"b\" /* epgReducer */],\r\n    uiPreferences: __WEBPACK_IMPORTED_MODULE_10__reducers_ui_preferences_reducer__[\"a\" /* uiPreferencesReducer */],\r\n    casting: __WEBPACK_IMPORTED_MODULE_5__reducers_casting_reducer__[\"a\" /* castingReducer */],\r\n});\r\nvar sagaMiddleware = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_redux_saga__[\"a\" /* default */])();\r\nvar composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || __WEBPACK_IMPORTED_MODULE_0_redux__[\"c\" /* compose */];\r\nvar favouritesStorage = __WEBPACK_IMPORTED_MODULE_4__libs_storage__[\"a\" /* LocalStorageFactory */].create('favourites');\r\nvar settingsStorage = __WEBPACK_IMPORTED_MODULE_4__libs_storage__[\"a\" /* LocalStorageFactory */].create('settings');\r\nvar uiPreferencesStorage = __WEBPACK_IMPORTED_MODULE_4__libs_storage__[\"a\" /* LocalStorageFactory */].create('ui-preferences');\r\nvar epgLastUpdateStorage = __WEBPACK_IMPORTED_MODULE_4__libs_storage__[\"a\" /* LocalStorageFactory */].create('epgLastUpdate');\r\nvar preloadState = {\r\n    favourites: favouritesStorage.get(),\r\n    uiPreferences: uiPreferencesStorage.get(),\r\n    settings: settingsStorage.get(),\r\n    epg: {\r\n        entries: {},\r\n        lastUpdate: epgLastUpdateStorage.get(),\r\n    },\r\n};\r\nvar store = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_redux__[\"d\" /* createStore */])(ottApp, preloadState, composeEnhancers(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_redux__[\"e\" /* applyMiddleware */])(__WEBPACK_IMPORTED_MODULE_2_redux_thunk___default.a, sagaMiddleware)));\r\nsagaMiddleware.run(__WEBPACK_IMPORTED_MODULE_11__sagas__[\"a\" /* rootSaga */]);\r\nstore.subscribe(function () {\r\n    var state = store.getState();\r\n    favouritesStorage.set(state.favourites);\r\n    settingsStorage.set(state.settings);\r\n    uiPreferencesStorage.set(state.uiPreferences);\r\n    epgLastUpdateStorage.set(state.epg.lastUpdate);\r\n});\r\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__casting_initialize_casting_api__[\"a\" /* initializeCastApi */])(store);\r\n\n\n/***/ }),\n\n/***/ 147:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return favouritesReducer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ts_action__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__actions_favourites_actions__ = __webpack_require__(60);\n\r\n\r\nvar initialState = [];\r\nvar favouritesReducer = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"d\" /* reducer */])([\r\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"e\" /* on */])(__WEBPACK_IMPORTED_MODULE_1__actions_favourites_actions__[\"a\" /* SaveFavourites */], function (_state, _a) {\r\n        var payload = _a.payload;\r\n        return payload.favourites;\r\n    }),\r\n], initialState);\r\n\n\n/***/ }),\n\n/***/ 148:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return playlistReducer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ts_action__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__actions_playlist_actions__ = __webpack_require__(37);\n\r\n\r\nvar initialPlaylist = {\r\n    urlEpg: null,\r\n    urlLogo: null,\r\n    channels: [],\r\n};\r\nvar playlistReducer = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"d\" /* reducer */])([\r\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"e\" /* on */])(__WEBPACK_IMPORTED_MODULE_1__actions_playlist_actions__[\"b\" /* ReceivePlaylist */], function (_state, _a) {\r\n        var payload = _a.payload;\r\n        return payload.playlist;\r\n    }),\r\n], initialPlaylist);\r\n\n\n/***/ }),\n\n/***/ 149:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return settingsReducer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ts_action__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__actions_settings_actions__ = __webpack_require__(61);\n\r\n\r\n\r\nvar initialState = {\r\n    playlistUrl: '',\r\n    currentKey: '',\r\n};\r\nvar settingsReducer = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_ts_action__[\"d\" /* reducer */])([\r\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_ts_action__[\"e\" /* on */])(__WEBPACK_IMPORTED_MODULE_2__actions_settings_actions__[\"a\" /* ChangeSettings */], function (_state, _a) {\r\n        var payload = _a.payload;\r\n        return (__WEBPACK_IMPORTED_MODULE_0_tslib__[\"e\" /* __assign */]({}, payload.settings));\r\n    }),\r\n], initialState);\r\n\n\n/***/ }),\n\n/***/ 150:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return uiPreferencesReducer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ts_action__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__actions_ui_preferences_actions__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_list_switcher_channel_list_modes__ = __webpack_require__(36);\n\r\n\r\n\r\n\r\nvar initialState = {\r\n    channelListMode: __WEBPACK_IMPORTED_MODULE_3__components_list_switcher_channel_list_modes__[\"a\" /* ChannelListMode */].grouped,\r\n};\r\nvar uiPreferencesReducer = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_ts_action__[\"d\" /* reducer */])([\r\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_ts_action__[\"e\" /* on */])(__WEBPACK_IMPORTED_MODULE_2__actions_ui_preferences_actions__[\"a\" /* SetChannelsListMode */], function (state, _a) {\r\n        var payload = _a.payload;\r\n        return (__WEBPACK_IMPORTED_MODULE_0_tslib__[\"e\" /* __assign */]({}, state, { channelListMode: payload.mode }));\r\n    }),\r\n], initialState);\r\n\n\n/***/ }),\n\n/***/ 151:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = main;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_redux_saga__ = __webpack_require__(103);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_redux_saga_effects__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__api_epg_api__ = __webpack_require__(119);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__actions_epg_actions__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__db__ = __webpack_require__(142);\n\r\n\r\n\r\n\r\n\r\n\r\nvar EPG_UPDATE_PERIOD_HOURS = 6;\r\nfunction isEpgOutdated(lastUpdate) {\r\n    return !lastUpdate || ((Date.now() - lastUpdate) >= EPG_UPDATE_PERIOD_HOURS * 1000 * 60 * 60);\r\n}\r\nfunction startSync() {\r\n    var state, channelsIds, bgSyncTask;\r\n    return __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __generator */](this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                if (false) return [3 /*break*/, 5];\r\n                return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_redux_saga_effects__[\"e\" /* select */])()];\r\n            case 1:\r\n                state = _a.sent();\r\n                channelsIds = state.playlist.channels.map(function (ch) { return ch.id; });\r\n                return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_redux_saga_effects__[\"f\" /* fork */])(bgSync, state.playlist.urlEpg, channelsIds)];\r\n            case 2:\r\n                bgSyncTask = _a.sent();\r\n                // wait for the user stop action\r\n                return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_redux_saga_effects__[\"b\" /* take */])(__WEBPACK_IMPORTED_MODULE_4__actions_epg_actions__[\"a\" /* StopEpgSync */].type)];\r\n            case 3:\r\n                // wait for the user stop action\r\n                _a.sent();\r\n                return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_redux_saga_effects__[\"g\" /* cancel */])(bgSyncTask)];\r\n            case 4:\r\n                _a.sent();\r\n                return [3 /*break*/, 0];\r\n            case 5: return [2 /*return*/];\r\n        }\r\n    });\r\n}\r\nfunction bgSync(url, channelsIds) {\r\n    var state, epg;\r\n    return __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __generator */](this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                _a.trys.push([0, , 10, 14]);\r\n                _a.label = 1;\r\n            case 1:\r\n                if (false) return [3 /*break*/, 9];\r\n                return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_redux_saga_effects__[\"e\" /* select */])()];\r\n            case 2:\r\n                state = _a.sent();\r\n                if (!isEpgOutdated(state.epg.lastUpdate)) return [3 /*break*/, 7];\r\n                return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_redux_saga_effects__[\"c\" /* call */])(__WEBPACK_IMPORTED_MODULE_3__api_epg_api__[\"a\" /* fetchEpg */], url, channelsIds)];\r\n            case 3:\r\n                epg = (_a.sent());\r\n                return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_redux_saga_effects__[\"d\" /* put */])(new __WEBPACK_IMPORTED_MODULE_4__actions_epg_actions__[\"b\" /* ReceiveEpg */]({ epg: epg, finishTime: Date.now() }))];\r\n            case 4:\r\n                _a.sent();\r\n                return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_redux_saga_effects__[\"c\" /* call */])([__WEBPACK_IMPORTED_MODULE_5__db__[\"a\" /* db */].epg, 'clear'])];\r\n            case 5:\r\n                _a.sent();\r\n                return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_redux_saga_effects__[\"c\" /* call */])([__WEBPACK_IMPORTED_MODULE_5__db__[\"a\" /* db */].epg, 'bulkAdd'], epg)];\r\n            case 6:\r\n                _a.sent();\r\n                _a.label = 7;\r\n            case 7: return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_redux_saga_effects__[\"c\" /* call */])(__WEBPACK_IMPORTED_MODULE_1_redux_saga__[\"b\" /* delay */], 1000 * 60 * 60)];\r\n            case 8:\r\n                _a.sent();\r\n                return [3 /*break*/, 1];\r\n            case 9: return [3 /*break*/, 14];\r\n            case 10: return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_redux_saga_effects__[\"h\" /* cancelled */])()];\r\n            case 11:\r\n                if (!_a.sent()) return [3 /*break*/, 13];\r\n                return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_redux_saga_effects__[\"d\" /* put */])(new __WEBPACK_IMPORTED_MODULE_4__actions_epg_actions__[\"d\" /* FailedLoadEpg */]({ error: 'Cancelled' }))];\r\n            case 12:\r\n                _a.sent();\r\n                _a.label = 13;\r\n            case 13: return [7 /*endfinally*/];\r\n            case 14: return [2 /*return*/];\r\n        }\r\n    });\r\n}\r\nfunction getEpg() {\r\n    var state, epg;\r\n    return __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __generator */](this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                if (false) return [3 /*break*/, 7];\r\n                return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_redux_saga_effects__[\"b\" /* take */])(__WEBPACK_IMPORTED_MODULE_4__actions_epg_actions__[\"c\" /* GetEpg */].type)];\r\n            case 1:\r\n                _a.sent();\r\n                return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_redux_saga_effects__[\"e\" /* select */])()];\r\n            case 2:\r\n                state = _a.sent();\r\n                if (!!isEpgOutdated(state.epg.lastUpdate)) return [3 /*break*/, 5];\r\n                return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_redux_saga_effects__[\"c\" /* call */])([__WEBPACK_IMPORTED_MODULE_5__db__[\"a\" /* db */].epg, 'toArray'])];\r\n            case 3:\r\n                epg = _a.sent();\r\n                return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_redux_saga_effects__[\"d\" /* put */])(new __WEBPACK_IMPORTED_MODULE_4__actions_epg_actions__[\"b\" /* ReceiveEpg */]({ epg: epg, finishTime: state.epg.lastUpdate }))];\r\n            case 4:\r\n                _a.sent();\r\n                _a.label = 5;\r\n            case 5: return [4 /*yield*/, startSync()];\r\n            case 6:\r\n                _a.sent();\r\n                return [3 /*break*/, 0];\r\n            case 7: return [2 /*return*/];\r\n        }\r\n    });\r\n}\r\nfunction main() {\r\n    return __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __generator */](this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0: return [4 /*yield*/, getEpg()];\r\n            case 1:\r\n                _a.sent();\r\n                return [2 /*return*/];\r\n        }\r\n    });\r\n}\r\n\n\n/***/ }),\n\n/***/ 152:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = rootSaga;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_redux_saga_effects__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__epg_saga__ = __webpack_require__(151);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__playlist_saga__ = __webpack_require__(153);\n\r\n\r\n\r\n\r\nfunction rootSaga() {\r\n    return __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __generator */](this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0: return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_redux_saga_effects__[\"a\" /* all */])([\r\n                    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__epg_saga__[\"a\" /* default */])(),\r\n                    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__playlist_saga__[\"a\" /* default */])(),\r\n                ])];\r\n            case 1:\r\n                _a.sent();\r\n                return [2 /*return*/];\r\n        }\r\n    });\r\n}\r\n\n\n/***/ }),\n\n/***/ 153:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = main;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_redux_saga_effects__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api_playlist_api__ = __webpack_require__(120);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__actions_epg_actions__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__actions_playlist_actions__ = __webpack_require__(37);\n\r\n\r\n\r\n\r\n\r\nfunction main() {\r\n    var action, playlist;\r\n    return __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __generator */](this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                if (false) return [3 /*break*/, 5];\r\n                return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_redux_saga_effects__[\"b\" /* take */])(__WEBPACK_IMPORTED_MODULE_4__actions_playlist_actions__[\"a\" /* RequestPlaylist */].type)];\r\n            case 1:\r\n                action = (_a.sent());\r\n                return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_redux_saga_effects__[\"c\" /* call */])(__WEBPACK_IMPORTED_MODULE_2__api_playlist_api__[\"a\" /* fetchPlaylist */], action.payload.playlistUrl)];\r\n            case 2:\r\n                playlist = (_a.sent());\r\n                return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_redux_saga_effects__[\"d\" /* put */])(new __WEBPACK_IMPORTED_MODULE_4__actions_playlist_actions__[\"b\" /* ReceivePlaylist */]({ playlist: playlist }))];\r\n            case 3:\r\n                _a.sent();\r\n                return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_redux_saga_effects__[\"d\" /* put */])(new __WEBPACK_IMPORTED_MODULE_3__actions_epg_actions__[\"c\" /* GetEpg */]())];\r\n            case 4:\r\n                _a.sent();\r\n                return [3 /*break*/, 0];\r\n            case 5: return [2 /*return*/];\r\n        }\r\n    });\r\n}\r\n\n\n/***/ }),\n\n/***/ 155:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"appWrap\":\"app__appWrap--UH-yP\",\"container\":\"app__container--2xPNi\"};\n\n/***/ }),\n\n/***/ 156:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"default\":\"cast-button__default--Bu6K3\",\"active\":\"cast-button__active--2cPnv\"};\n\n/***/ }),\n\n/***/ 157:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"host\":\"channel-epg__host--24usi\",\"entry\":\"channel-epg__entry--20qZg\",\"entryActive\":\"channel-epg__entryActive--3SLJQ\",\"mainInfo\":\"channel-epg__mainInfo--1kcUU\",\"name\":\"channel-epg__name--VaptA\",\"timing\":\"channel-epg__timing--3ApOl\",\"endTime\":\"channel-epg__endTime--1UADV\",\"sideInfo\":\"channel-epg__sideInfo--2H_zS\",\"date\":\"channel-epg__date--pMi80\",\"startTime\":\"channel-epg__startTime--3Gkql\",\"duration\":\"channel-epg__duration--3snaL\"};\n\n/***/ }),\n\n/***/ 158:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"details\":\"channels-detail__details--30vfY\",\"name\":\"channels-detail__name--3_GWx\",\"currentProgram\":\"channels-detail__currentProgram--2bPhR\",\"nextProgram\":\"channels-detail__nextProgram--3V11S\",\"time\":\"channels-detail__time--2Ge5U\"};\n\n/***/ }),\n\n/***/ 159:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"item\":\"channels-list__item--2HTnI\",\"itemActive\":\"channels-list__itemActive--3wsKl\",\"icon\":\"channels-list__icon--2xa6T\"};\n\n/***/ }),\n\n/***/ 160:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"groupCollapsed\":\"grouped-channels-list__groupCollapsed--2Y-7c\",\"groupExpanded\":\"grouped-channels-list__groupExpanded--3b8ar\",\"header\":\"grouped-channels-list__header--ojiGT\",\"body\":\"grouped-channels-list__body--2sOkX\",\"arrowIcon\":\"grouped-channels-list__arrowIcon--1WGmb\"};\n\n/***/ }),\n\n/***/ 161:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"checkbox\":\"selectable-channels-list__checkbox--ISE-J\"};\n\n/***/ }),\n\n/***/ 162:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"saveBar\":\"save-bar__saveBar--VoKOr\",\"btns\":\"save-bar__btns--2yULT\",\"btnSave\":\"save-bar__btnSave--31a-O\",\"btnCancel\":\"save-bar__btnCancel--1K9wo\"};\n\n/***/ }),\n\n/***/ 163:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"host\":\"header__host--10_Ga\",\"btn\":\"header__btn--2atgb\",\"settingsBtns\":\"header__settingsBtns--3Kypt\"};\n\n/***/ }),\n\n/***/ 164:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"listSwitcher\":\"list-switcher__listSwitcher--3eRsU\",\"currentModeTitle\":\"list-switcher__currentModeTitle--24MKV\",\"options\":\"list-switcher__options--1ZD-2\",\"option\":\"list-switcher__option--3AHrS\",\"optionCurrent\":\"list-switcher__optionCurrent--1hhda\"};\n\n/***/ }),\n\n/***/ 165:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"host\":\"no-favourites__host--36nM8\",\"noFavIcon\":\"no-favourites__noFavIcon--1H2f3\",\"text\":\"no-favourites__text--Of-mo\"};\n\n/***/ }),\n\n/***/ 166:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"mainPanel\":\"player-area__mainPanel--2sT_T\",\"playerContainer\":\"player-area__playerContainer--2W2t-\"};\n\n/***/ }),\n\n/***/ 167:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"host\":\"progress-bar__host--1_cqD\",\"bar\":\"progress-bar__bar--c0k7T\",\"inner\":\"progress-bar__inner--2d7G2\"};\n\n/***/ }),\n\n/***/ 168:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"host\":\"settings__host--2VOZe\",\"title\":\"settings__title--5c6zd\",\"gridForm\":\"settings__gridForm--2WOdT\",\"blockField\":\"settings__blockField--2oiC2\",\"formActions\":\"settings__formActions--27vk8\",\"fieldLabel\":\"settings__fieldLabel--lgbII\",\"submitBtn\":\"settings__submitBtn--16zHh\",\"cancelBtn\":\"settings__cancelBtn--2V6mF\"};\n\n/***/ }),\n\n/***/ 169:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"host\":\"side-panel__host--1VsZL\",\"header\":\"side-panel__header--eBJYe\",\"body\":\"side-panel__body--8iJH8\"};\n\n/***/ }),\n\n/***/ 170:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"host\":\"tv-portal__host--1xRMV\"};\n\n/***/ }),\n\n/***/ 171:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"video-player\":\"video-player__video-player--2wp8w\",\"vjs-spinner-spin\":\"video-player__vjs-spinner-spin--2SzGG\",\"vjs-spinner-fade\":\"video-player__vjs-spinner-fade--3fvQZ\"};\n\n/***/ }),\n\n/***/ 172:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 20:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return ReceiveEpg; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return FailedLoadEpg; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return GetEpg; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return StopEpgSync; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ts_action__ = __webpack_require__(6);\n\r\nvar ReceiveEpg = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"a\" /* action */])('[EPG] Receive epg', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"b\" /* payload */])());\r\nvar FailedLoadEpg = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"a\" /* action */])('[EPG] Failed load channel', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"b\" /* payload */])());\r\nvar GetEpg = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"a\" /* action */])('[EPG] Get epg');\r\nvar StopEpgSync = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"a\" /* action */])('[EPG] Stop sync channel');\r\n\n\n/***/ }),\n\n/***/ 21:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = epgInAir;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return epgReducer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ts_action__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__actions_epg_actions__ = __webpack_require__(20);\n\r\n\r\n\r\nvar initialState = {\r\n    lastUpdate: null,\r\n    entries: {},\r\n};\r\nfunction epgInAir(entry) {\r\n    var currentTime = Date.now() / 1000;\r\n    return entry.startTime <= currentTime && entry.endTime >= currentTime;\r\n}\r\nfunction toDictionary(entries) {\r\n    return entries.reduce(function (acc, entry) {\r\n        if (!acc[entry.chId]) {\r\n            acc[entry.chId] = [entry];\r\n        }\r\n        else {\r\n            acc[entry.chId].push(entry);\r\n        }\r\n        return acc;\r\n    }, {});\r\n}\r\nvar epgReducer = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_ts_action__[\"d\" /* reducer */])([\r\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_ts_action__[\"e\" /* on */])(__WEBPACK_IMPORTED_MODULE_2__actions_epg_actions__[\"b\" /* ReceiveEpg */], function (state, _a) {\r\n        var payload = _a.payload;\r\n        return (__WEBPACK_IMPORTED_MODULE_0_tslib__[\"e\" /* __assign */]({}, state, { entries: toDictionary(payload.epg), lastUpdate: payload.finishTime }));\r\n    }),\r\n], initialState);\r\n\n\n/***/ }),\n\n/***/ 34:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ChannelsList; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__channel_detail_channel_detail__ = __webpack_require__(128);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__channels_list_scss__ = __webpack_require__(159);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__channels_list_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__channels_list_scss__);\n\r\n\r\n\r\n\r\nvar ChannelsList = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](ChannelsList, _super);\r\n    function ChannelsList() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.isInitiallyScrolled = false;\r\n        return _this;\r\n    }\r\n    ChannelsList.prototype.isActive = function (chanel) {\r\n        return chanel === this.props.current;\r\n    };\r\n    ChannelsList.prototype.scrollToActiveChannel = function () {\r\n        var _this = this;\r\n        if (!this.isInitiallyScrolled && this.props.scrollbarController && this.activeElementRef) {\r\n            this.isInitiallyScrolled = true;\r\n            setTimeout(function () {\r\n                var values = _this.props.scrollbarController.getValues();\r\n                var topPoint = values.scrollTop;\r\n                var bottomPoint = values.clientHeight + values.scrollTop;\r\n                var elementTop = _this.activeElementRef.offsetTop;\r\n                if (topPoint < elementTop && bottomPoint < elementTop) {\r\n                    _this.props.scrollbarController.scrollTop(elementTop);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    ChannelsList.prototype.componentDidMount = function () {\r\n        this.scrollToActiveChannel();\r\n    };\r\n    ChannelsList.prototype.componentDidUpdate = function () {\r\n        this.scrollToActiveChannel();\r\n    };\r\n    ChannelsList.prototype.render = function () {\r\n        var _this = this;\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_3__channels_list_scss___default.a.channelsList }, this.props.channels.map(function (channel) {\r\n            return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: _this.isActive(channel) ? __WEBPACK_IMPORTED_MODULE_3__channels_list_scss___default.a.itemActive : __WEBPACK_IMPORTED_MODULE_3__channels_list_scss___default.a.item, ref: function (ref) { return _this.isActive(channel) && (_this.activeElementRef = ref); }, onClick: function () { return _this.props.onChangeChannel(channel); }, key: channel.id },\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_3__channels_list_scss___default.a.icon },\r\n                    _this.props.control && _this.props.control(channel),\r\n                    __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"img\", { src: channel.logo, alt: '' })),\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__channel_detail_channel_detail__[\"a\" /* ChannelDetail */], { channel: channel }));\r\n        })));\r\n    };\r\n    return ChannelsList;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"PureComponent\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 35:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return withChannelNavigation; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_redux__ = __webpack_require__(7);\n\r\n\r\n\r\nvar withChannelNavigation = function (WrappedComponent) {\r\n    var WithChannelNavigation = /** @class */ (function (_super) {\r\n        __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](WithChannelNavigation, _super);\r\n        function WithChannelNavigation() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        WithChannelNavigation.prototype.getCurrentChannel = function (channels, channelSlug) {\r\n            if (!channels.length || !channelSlug) {\r\n                return null;\r\n            }\r\n            var _a = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"d\" /* __read */](channelSlug.match(/^[^-]+/), 1), id = _a[0];\r\n            if (id) {\r\n                return channels.find(function (ch) { return ch.id === +id; });\r\n            }\r\n            return null;\r\n        };\r\n        WithChannelNavigation.prototype.getChannelSlug = function (channel) {\r\n            return channel.id;\r\n        };\r\n        WithChannelNavigation.prototype.render = function () {\r\n            var _this = this;\r\n            var props = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"e\" /* __assign */]({ currentChannel: this.getCurrentChannel(this.props.channels, this.props.match.params.channelSlug), onChangeChannel: function (channel) { return _this.props.history.push('/' + _this.getChannelSlug(channel)); } }, this.props);\r\n            return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(WrappedComponent, __WEBPACK_IMPORTED_MODULE_0_tslib__[\"e\" /* __assign */]({}, props));\r\n        };\r\n        WithChannelNavigation.displayName = \"WithChannelNavigation(\" + getDisplayName(WrappedComponent) + \")\";\r\n        return WithChannelNavigation;\r\n    }(__WEBPACK_IMPORTED_MODULE_1_react__[\"PureComponent\"]));\r\n    function mapStateToProps(state) {\r\n        return {\r\n            channels: state.playlist.channels,\r\n        };\r\n    }\r\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_redux__[\"b\" /* connect */])(mapStateToProps)(WithChannelNavigation);\r\n};\r\nfunction getDisplayName(WrappedComponent) {\r\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\r\n}\r\n\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ChannelListMode; });\nvar ChannelListMode;\r\n(function (ChannelListMode) {\r\n    ChannelListMode[ChannelListMode[\"favourites\"] = 1] = \"favourites\";\r\n    ChannelListMode[ChannelListMode[\"all\"] = 2] = \"all\";\r\n    ChannelListMode[ChannelListMode[\"grouped\"] = 3] = \"grouped\";\r\n})(ChannelListMode || (ChannelListMode = {}));\r\n\n\n/***/ }),\n\n/***/ 365:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 366:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(117);\n\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return RequestPlaylist; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return ReceivePlaylist; });\n/* unused harmony export PlaylistActions */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ts_action__ = __webpack_require__(6);\n\r\nvar RequestPlaylist = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"a\" /* action */])('[Playlist] Request', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"b\" /* payload */])());\r\nvar ReceivePlaylist = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"a\" /* action */])('[Playlist] Receive', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"b\" /* payload */])());\r\nvar PlaylistActions = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"c\" /* union */])({\r\n    RequestPlaylist: RequestPlaylist,\r\n    ReceivePlaylist: ReceivePlaylist,\r\n});\r\n\n\n/***/ }),\n\n/***/ 57:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Time; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n\r\n\r\nvar Time = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](Time, _super);\r\n    function Time() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Time.prototype.format = function (ts) {\r\n        var date = new Date(ts * 1000);\r\n        return date.toTimeString().split(':').slice(0, 2).join(':');\r\n    };\r\n    Time.prototype.render = function () {\r\n        return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"span\", null, this.format(this.props.children));\r\n    };\r\n    return Time;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"Component\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 58:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ProgressBar; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__progress_bar_scss__ = __webpack_require__(167);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__progress_bar_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__progress_bar_scss__);\n\r\n\r\n\r\nvar ProgressBar = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](ProgressBar, _super);\r\n    function ProgressBar() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.oldValue = null;\r\n        return _this;\r\n    }\r\n    ProgressBar.prototype.componentDidMount = function () {\r\n        this.watch();\r\n    };\r\n    ProgressBar.prototype.watch = function () {\r\n        var _this = this;\r\n        if (this.isUnmounted) {\r\n            return;\r\n        }\r\n        var THRESHOLD = 5;\r\n        if (this.value - this.oldValue > THRESHOLD) {\r\n            this.forceUpdate();\r\n        }\r\n        if (this.value < 100) {\r\n            setTimeout(function () { return requestAnimationFrame(_this.watch.bind(_this)); }, 500);\r\n        }\r\n    };\r\n    ProgressBar.prototype.componentWillUnmount = function () {\r\n        this.isUnmounted = true;\r\n    };\r\n    Object.defineProperty(ProgressBar.prototype, \"value\", {\r\n        get: function () {\r\n            var duration = this.props.endTime - this.props.startTime;\r\n            var passed = Math.floor(Date.now() / 1000) - this.props.startTime;\r\n            var value = Math.round((passed / duration) * 100);\r\n            return value > 100 ? 100 : value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ProgressBar.prototype.render = function () {\r\n        this.oldValue = this.value;\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_2__progress_bar_scss___default.a.host },\r\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_2__progress_bar_scss___default.a.bar },\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_2__progress_bar_scss___default.a.inner, style: { width: this.value + '%' } }))));\r\n    };\r\n    return ProgressBar;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"Component\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 59:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return SidePanel; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__side_panel_scss__ = __webpack_require__(169);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__side_panel_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__side_panel_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_custom_scrollbars__ = __webpack_require__(88);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_custom_scrollbars___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react_custom_scrollbars__);\n\r\n\r\n\r\n\r\nvar SidePanel = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](SidePanel, _super);\r\n    function SidePanel() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SidePanel.prototype.render = function () {\r\n        return (__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_2__side_panel_scss___default.a.host },\r\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_2__side_panel_scss___default.a.header }, this.props.header),\r\n            __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\"div\", { className: __WEBPACK_IMPORTED_MODULE_2__side_panel_scss___default.a.body },\r\n                __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_custom_scrollbars___default.a, { autoHide: true, ref: this.props.provideScrollbarCtrl }, this.props.body))));\r\n    };\r\n    return SidePanel;\r\n}(__WEBPACK_IMPORTED_MODULE_1_react__[\"PureComponent\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 60:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return SaveFavourites; });\n/* unused harmony export FavouritesActions */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ts_action__ = __webpack_require__(6);\n\r\nvar SaveFavourites = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"a\" /* action */])('[Favourites] Save', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"b\" /* payload */])());\r\nvar FavouritesActions = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"c\" /* union */])({\r\n    SaveFavourites: SaveFavourites,\r\n});\r\n\n\n/***/ }),\n\n/***/ 61:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ChangeSettings; });\n/* unused harmony export SettingsActions */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ts_action__ = __webpack_require__(6);\n\r\nvar ChangeSettings = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"a\" /* action */])('[Settings] Change', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"b\" /* payload */])());\r\nvar SettingsActions = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"c\" /* union */])({\r\n    ChangeSettings: ChangeSettings,\r\n});\r\n\n\n/***/ }),\n\n/***/ 62:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return SetChannelsListMode; });\n/* unused harmony export UiActions */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ts_action__ = __webpack_require__(6);\n\r\nvar SetChannelsListMode = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"a\" /* action */])('[UI] Set channel list mode', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"b\" /* payload */])());\r\nvar UiActions = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_ts_action__[\"c\" /* union */])({\r\n    SetChannelsListMode: SetChannelsListMode,\r\n});\r\n\n\n/***/ }),\n\n/***/ 63:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return CastStateChanged; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return SessionStateChanged; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return castingReducer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ts_action__ = __webpack_require__(6);\n\r\n\r\nvar CastStateChanged = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_ts_action__[\"a\" /* action */])('[Casting] Cast state changed', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_ts_action__[\"b\" /* payload */])());\r\nvar SessionStateChanged = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_ts_action__[\"a\" /* action */])('[Casting] Session state changed', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_ts_action__[\"b\" /* payload */])());\r\nvar initialState = {\r\n    castState: null,\r\n    sessionState: null,\r\n};\r\n// tslint:disable no-shadowed-variable\r\nvar castingReducer = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_ts_action__[\"d\" /* reducer */])([\r\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_ts_action__[\"e\" /* on */])(SessionStateChanged, function (state, _a) {\r\n        var payload = _a.payload;\r\n        return (__WEBPACK_IMPORTED_MODULE_0_tslib__[\"e\" /* __assign */]({}, state, { sessionState: payload.state }));\r\n    }),\r\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_ts_action__[\"e\" /* on */])(CastStateChanged, function (state, _a) {\r\n        var payload = _a.payload;\r\n        return (__WEBPACK_IMPORTED_MODULE_0_tslib__[\"e\" /* __assign */]({}, state, { castState: payload.state }));\r\n    }),\r\n], initialState);\r\n\n\n/***/ })\n\n},[366]);\n\n\n// WEBPACK FOOTER //\n// main.42c89e8f.js","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { App } from './app';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.tsx","import { EpgEntry } from '../entities/epg-entry';\n\nexport type FetchEpgResponse = EpgEntry[];\n\nfunction normalizeEpgEntry(data: any): EpgEntry {\n  return {\n    chId: +data.ch_id,\n    name: data.name,\n    startTime: data.time,\n    endTime: data.time_to,\n    duration: +data.duration,\n    descr: data.descr,\n  };\n}\n\nexport async function fetchEpg(epgUrl: string, channelIds: number[]): Promise<FetchEpgResponse> {\n  const epg: EpgEntry[] = [];\n  const promises = channelIds.map((chid) => {\n    return window.fetch(`${epgUrl}channel/${chid}`)\n      .then((r) => r.json())\n      .then((response) => {\n        return Object.keys(response)\n          .forEach((key) => epg.push(normalizeEpgEntry(response[key])));\n      });\n  });\n\n  return Promise.all(promises).then(() => epg);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/epg.api.ts","import { PlaylistParser } from '../libs/playlist-parser/playlist-parser';\nimport { Playlist } from '../entities/playlist.model';\n\nexport function fetchPlaylist(url: string): Promise<Playlist> {\n  return window.fetch(`http://${url}/ottplayer/playlist.m3u`)\n    .then((r) => r.text())\n    .then((rawPlaylist: string) => {\n      const parsed = new PlaylistParser().parse(rawPlaylist);\n\n      if (parsed.errors.length) {\n        throw new Error(parsed.errors[0]);\n      }\n\n      return parsed.playlist as Playlist;\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/playlist.api.ts","import React, { Component } from 'react';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport styles from './app.scss';\nimport { HeaderWithRouter } from './components/header/header.component';\nimport { Settings } from './components/settings/settings';\nimport { TvPortal } from './components/tv-portal/tv-portal.component';\nimport { store } from './store';\n\nexport class App extends Component {\n  public render() {\n    return (\n      <Provider store={store}>\n        <Router>\n          <div className={styles.appWrap}>\n            <HeaderWithRouter/>\n            <div className={styles.container}>\n              <Switch>\n                <Route path='/settings' component={Settings}/>\n                <Route path='/:channelSlug*' component={TvPortal}/>\n              </Switch>\n            </div>\n          </div>\n        </Router>\n      </Provider>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.tsx","import {Store} from 'redux';\nimport {CastStateChanged, SessionStateChanged} from '../store/reducers/casting.reducer';\nimport {AppState} from '../store';\n\nexport function initializeCastApi(store: Store<AppState>) {\n  (window as any).__onGCastApiAvailable = (isAvailable: boolean) => {\n    if (!isAvailable) {\n      return;\n    }\n\n    const context = cast.framework.CastContext.getInstance();\n\n    context.setOptions({\n      receiverApplicationId: chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,\n      autoJoinPolicy: (chrome.cast as any).AutoJoinPolicy.ORIGIN_SCOPED,\n    });\n\n    context.addEventListener(\n      cast.framework.CastContextEventType.CAST_STATE_CHANGED,\n      (event) => store.dispatch(new CastStateChanged({state: event.castState})),\n    );\n    context.addEventListener(\n      cast.framework.CastContextEventType.SESSION_STATE_CHANGED,\n      (event) => store.dispatch(new SessionStateChanged({state: event.sessionState})),\n    );\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/casting/initialize-casting-api.ts","import React, {PureComponent} from 'react';\nimport {connect} from 'react-redux';\nimport {AppState} from '../../store';\nimport Cast from 'react-icons/lib/md/cast';\nimport CastConnected from 'react-icons/lib/md/cast-connected';\nimport styles from './cast-button.scss';\nimport autobind from 'autobind-decorator';\n\nexport interface StateProps {\n  castState: cast.framework.CastState;\n}\n\ntype Props = StateProps;\n\nexport class CastButtonComponent extends PureComponent<Props> {\n  private isConnected(): boolean {\n    return this.props.castState === 'CONNECTED';\n  }\n\n  @autobind\n  private requestCastSession() {\n    const context = cast.framework.CastContext.getInstance();\n    context.requestSession();\n  }\n\n  public render() {\n    return <button className={this.isConnected() ? styles.active : styles.default}\n            onClick={this.requestCastSession}\n            title='Cast to...'\n            type='button'>\n      {this.isConnected() ? <CastConnected/> : <Cast/> }\n    </button>;\n  }\n}\n\nconst mapStateToProps = (state: AppState): Props => {\n  return {\n    castState: state.casting.castState,\n  };\n};\n\nexport const CastButton = connect<StateProps>(\n  mapStateToProps,\n)(CastButtonComponent);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/cast-button/cast-button.tsx","import { connect } from 'react-redux';\nimport { EpgEntry } from '../../entities/epg-entry';\nimport { AppState } from '../../store';\nimport { epgInAir } from '../../store/reducers/epg.reducer';\nimport { ChannelEpgComponent, OwnProps, StateProps } from './channel-epg';\n\nfunction filterOutdatedEntries(entries: EpgEntry[]) {\n  const index = entries.findIndex(epgInAir);\n  return entries.slice(index);\n}\n\nfunction mapStateToProps(state: AppState, ownProps: OwnProps): StateProps {\n  return {\n    entries: filterOutdatedEntries(state.epg.entries[ownProps.channelId]),\n  };\n}\n\nexport const ChannelEpg = connect<StateProps, {}, OwnProps>(\n  mapStateToProps,\n)(ChannelEpgComponent);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/channel-epg/channel-epg.container.ts","import React, { PureComponent } from 'react';\nimport { epgInAir } from '../../store/reducers/epg.reducer';\nimport styles from './channel-epg.scss';\nimport { ProgressBar } from '../progress-bar/progress-bar';\nimport { EpgEntry } from '../../entities/epg-entry';\nimport { Time } from '../formatters/time';\nimport Scrollbars from 'react-custom-scrollbars';\nimport { Duration } from '../formatters/duration';\nimport { DateFormatter } from '../formatters/date';\n\nexport interface StateProps {\n  entries: EpgEntry[];\n}\n\nexport interface OwnProps {\n  channelId: number;\n}\n\ntype Props = StateProps & OwnProps;\n\nexport class ChannelEpgComponent extends PureComponent<Props> {\n  public render() {\n    return (\n      <div className={styles.host}>\n        <Scrollbars autoHide>\n          <div className={styles.entries}>\n\n            {this.props.entries.map((entry) => (\n              <div className={epgInAir(entry) ? styles.entryActive : styles.entry} key={entry.startTime}>\n\n                <div className={styles.mainInfo}>\n                  <h5 className={styles.name}>{entry.name}</h5>\n\n                  {epgInAir(entry) && <ProgressBar startTime={entry.startTime} endTime={entry.endTime}/>}\n\n                  {!epgInAir(entry) && (\n                    <div className={styles.timing}>\n                      <div className={styles.startTime}><Time>{entry.startTime}</Time></div>\n                      <div className={styles.endTime}><Time>{entry.endTime}</Time></div>\n                    </div>\n                  )}\n\n                </div>\n\n                <div className={styles.sideInfo}>\n                  <span className={styles.date}><DateFormatter>{entry.startTime}</DateFormatter></span>\n                  <span className={styles.duration}><Duration>{entry.duration}</Duration></span>\n                </div>\n\n              </div>\n            ))}\n\n          </div>\n        </Scrollbars>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/channel-epg/channel-epg.tsx","import { connect, MapDispatchToPropsParam, MapStateToPropsParam } from 'react-redux';\nimport { SetChannelsListMode } from '../../store/actions/ui-preferences.actions';\nimport { ReadonlyChannelsCollection } from '../../entities/channel.model';\nimport { AppState } from '../../store';\nimport { withChannelNavigation } from '../hoc/with-channel-navigation';\nimport { ChannelListMode } from '../list-switcher/channel-list-modes';\nimport { ChannelsPanelComponent, DispatchProps, OwnProps, StateProps } from './channels-panel';\n\nfunction getFavouritesChannels(channels: ReadonlyChannelsCollection, favourites: ReadonlyArray<number>): ReadonlyChannelsCollection {\n  return channels.filter((channel) => favourites.includes(channel.id));\n}\n\nconst mapStateToProps: MapStateToPropsParam<StateProps, OwnProps> = (state: AppState) => {\n  return {\n    favourites: getFavouritesChannels(state.playlist.channels, state.favourites),\n    channels: state.playlist.channels,\n    currentEpg: state.epg,\n    listMode: state.uiPreferences.channelListMode,\n  };\n};\n\nconst mapDispatchToProps: MapDispatchToPropsParam<DispatchProps, OwnProps> = (dispatch) => {\n  return {\n    onChangeListMode: (mode: ChannelListMode) => {\n      dispatch(new SetChannelsListMode({ mode }));\n    },\n  };\n};\n\nexport const ChannelsPanel = withChannelNavigation(connect<StateProps, DispatchProps, OwnProps>(\n  mapStateToProps,\n  mapDispatchToProps,\n)(ChannelsPanelComponent));\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/channels-panel/channels-panel.container.tsx","import React, { PureComponent } from 'react';\n\nimport { SidePanel } from '../side-panel/side-panel';\nimport { Channel, ReadonlyChannelsCollection } from '../../entities/channel.model';\nimport { GroupedChannelsList } from '../channels/grouped-channels-list/grouped-channels-list';\nimport { ChannelsList } from '../channels/channels-list/channels-list';\nimport { ListSwitcher } from '../list-switcher/list-switcher';\nimport { ChannelListMode } from '../list-switcher/channel-list-modes';\nimport { NoFavourites } from '../no-favourites/no-favourites';\n\nexport interface OwnProps {\n  onChangeChannel: (channel: Channel) => void;\n  currentChannel: Channel;\n}\n\nexport interface StateProps {\n  favourites: ReadonlyChannelsCollection;\n  channels: ReadonlyChannelsCollection;\n  listMode: ChannelListMode;\n}\n\nexport interface DispatchProps {\n  onChangeListMode: (mode: ChannelListMode) => void;\n}\n\ntype Props = OwnProps & StateProps & DispatchProps;\n\nexport class ChannelsPanelComponent extends PureComponent<Props> {\n  private scrollbarController: any;\n\n  get listMode() {\n    return this.props.listMode;\n  }\n\n  private getChannelsListElement() {\n    const props = {\n      channels: this.props.channels,\n      current: this.props.currentChannel,\n      onChangeChannel: this.props.onChangeChannel,\n      scrollbarController: this.scrollbarController,\n    };\n\n    if (this.listMode === ChannelListMode.grouped) {\n      return <GroupedChannelsList {...props} />;\n    }\n\n    if (this.listMode === ChannelListMode.favourites) {\n      if (this.props.favourites.length === 0) {\n        return <NoFavourites/>;\n      }\n\n      return <ChannelsList {...props} channels={this.props.favourites}/>;\n    }\n\n    return <ChannelsList {...props} />;\n  }\n\n  public render() {\n    const header = <ListSwitcher\n      onSwitch={this.props.onChangeListMode}\n      current={this.props.listMode}/>;\n\n    return (\n      <SidePanel provideScrollbarCtrl={(ctrl) => this.scrollbarController = ctrl}\n                 header={header}\n                 body={this.getChannelsListElement()}/>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/channels-panel/channels-panel.tsx","import React, { PureComponent } from 'react';\nimport { connect, MapStateToPropsParam } from 'react-redux';\nimport { Channel } from '../../../entities/channel.model';\nimport { EpgEntry } from '../../../entities/epg-entry';\nimport { AppState } from '../../../store';\nimport { epgInAir } from '../../../store/reducers/epg.reducer';\nimport { Time } from '../../formatters/time';\nimport { ProgressBar } from '../../progress-bar/progress-bar';\nimport styles from './channels-detail.scss';\n\ninterface OwnProps {\n  channel: Channel;\n}\n\ninterface StateProps {\n  epg: EpgEntry[];\n}\n\ntype Props = OwnProps & StateProps;\n\nclass ChannelDetailComponent extends PureComponent<Props> {\n  private timerId: number;\n\n  private getEpg() {\n    const current = this.props.epg.find(epgInAir);\n    const currentIndex = this.props.epg.indexOf(current);\n\n    let next: EpgEntry = null;\n\n    if (currentIndex + 1 <= this.props.epg.length) {\n      next = this.props.epg[currentIndex + 1];\n    }\n    return { current, next };\n  }\n\n  public componentDidMount() {\n    this.timerId = window.setInterval(() => {\n      this.setState({time: Date.now()});\n    }, 1000 * 5);\n  }\n\n  public componentWillUnmount() {\n    window.clearInterval(this.timerId);\n  }\n\n  public render() {\n    const epg = this.getEpg();\n\n    return (<div className={styles.details}>\n      <h5 title={this.props.channel.name} className={styles.name}>{this.props.channel.name}</h5>\n      {epg.current && <div title={': ' + epg.current.name}\n                           className={styles.currentProgram}>\n        <span className={styles.time}><Time>{epg.current.startTime}</Time></span>\n        {epg.current.name}\n        </div>}\n      {epg.current &&\n      <ProgressBar startTime={epg.current.startTime} endTime={epg.current.endTime}/>\n      }\n\n      {epg.next &&\n      <div title={': ' + epg.next.name} className={styles.nextProgram}>\n        <span className={styles.time}><Time>{epg.next.startTime}</Time></span>\n        {epg.next.name}\n      </div>\n      }\n    </div>);\n  }\n}\n\nconst mapStateToProps: MapStateToPropsParam<StateProps, OwnProps> = (state: AppState, ownProps) => {\n  return {\n    epg: state.epg.entries[ownProps.channel.id] || [],\n  };\n};\n\nexport const ChannelDetail = connect<StateProps, {}, OwnProps>(\n  mapStateToProps,\n)(ChannelDetailComponent);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/channels/channel-detail/channel-detail.tsx","import React, { Component } from 'react';\nimport { Channel, ReadonlyChannelsCollection } from '../../../entities/channel.model';\nimport { ChannelsList } from '../channels-list/channels-list';\nimport styles from './grouped-channels-list.scss';\nimport groupBy from 'lodash/groupBy';\nimport ArrowIcon from 'react-icons/lib/fa/angle-right';\n\ninterface GroupedChannelsListProps {\n  onChangeChannel?: (channel: Channel) => void;\n  channels: ReadonlyChannelsCollection;\n  current?: Channel;\n  scrollbarController?: any;\n}\n\ninterface Group {\n  name: string;\n  channels: ReadonlyChannelsCollection;\n}\nexport class GroupedChannelsList extends Component<GroupedChannelsListProps> {\n  private groups: Group[] = [];\n\n  public componentWillMount() {\n    this.prepareData(this.props.channels, this.props.current);\n  }\n\n  public componentWillReceiveProps(props: GroupedChannelsListProps) {\n    this.prepareData(props.channels, props.current);\n  }\n\n  public state = {\n    expanded: {} as {[name: string]: boolean},\n  };\n\n  private expandGroup(group: Group) {\n    this.setState({ expanded: { ...this.state.expanded, [group.name]: true } });\n  }\n\n  private toggleGroup(group: Group) {\n    this.setState({ expanded: { ...this.state.expanded, [group.name]: !this.state.expanded[group.name] } });\n  }\n\n  private isExpanded(group: Group) {\n    return this.state.expanded[group.name];\n  }\n\n  private prepareData(channels: ReadonlyChannelsCollection, current: Channel) {\n    const grouped = groupBy(channels, (channel: Channel) => channel.groupTitle);\n    this.groups = Object.keys(grouped).map((name) => {\n      const group = {\n        name,\n        channels: grouped[name],\n      };\n\n      if (current && group.channels.includes(current)) {\n        this.expandGroup(group);\n      }\n\n      return group;\n    });\n  }\n\n  public render() {\n    return (\n      <div className={styles.host}>\n        {this.groups.map((group, i) =>\n          <div className={this.isExpanded(group) ? styles.groupExpanded : styles.groupCollapsed} key={ i }>\n            <div onClick={() => this.toggleGroup(group)}\n                    className={styles.header}>\n              { group.name }\n\n              <div className={styles.arrowIcon}>\n                <ArrowIcon />\n              </div>\n\n            </div>\n            <div className={styles.body}>\n              <ChannelsList {...this.props} channels={group.channels} />\n            </div>\n          </div>,\n        )}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/channels/grouped-channels-list/grouped-channels-list.tsx","import React, { PureComponent } from 'react';\nimport { Channel, ReadonlyChannelsCollection } from '../../../entities/channel.model';\nimport styles from './selectable-channels-list.scss';\nimport { ChannelsList } from '../channels-list/channels-list';\n\ninterface SelectableChannelsListProps {\n  onChangeChannel: (channel: Channel) => void;\n  onSelectionChange: (selected: ReadonlyArray<number>) => void;\n  selected: ReadonlyArray<number>;\n  channels: ReadonlyChannelsCollection;\n}\n\nexport class SelectableChannelsList extends PureComponent<SelectableChannelsListProps> {\n  private handleCheckBoxChange(channel: Channel) {\n    let selected;\n\n    if (this.isSelected(channel)) {\n      selected = this.props.selected.filter((id) => id !== channel.id);\n    } else {\n      selected = [...this.props.selected, channel.id];\n    }\n\n    this.props.onSelectionChange(selected);\n  }\n\n  private isSelected(channel: Channel) {\n    return this.props.selected.includes(channel.id);\n  }\n\n  private getControl() {\n    return (channel: Channel) => (\n      <div onClick={(e) => e.stopPropagation()} className={styles.checkbox}>\n        <input defaultChecked={this.isSelected(channel)} type='checkbox' id={`channel${channel.id}`}\n               onChange={() => this.handleCheckBoxChange(channel)}/>\n        <label htmlFor={`channel${channel.id}`}>Select</label>\n      </div>\n    );\n  }\n\n  public render() {\n    return (\n      <ChannelsList {...this.props} control={this.getControl()}/>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/channels/selectable-channels-list/selectable-channels-list.tsx","import autobind from 'autobind-decorator';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { RouteComponentProps } from 'react-router';\nimport { Dispatch } from 'redux';\nimport { SaveFavourites } from '../../store/actions/favourites.actions';\nimport { Channel, ReadonlyChannelsCollection } from '../../entities/channel.model';\nimport { AppState } from '../../store';\nimport { SelectableChannelsList } from '../channels/selectable-channels-list/selectable-channels-list';\nimport { withChannelNavigation } from '../hoc/with-channel-navigation';\nimport { SidePanel } from '../side-panel/side-panel';\nimport { SaveBar } from './save-bar/save-bar';\n\ninterface FavouritesEditorProps {\n  channels: ReadonlyChannelsCollection;\n  favourites: ReadonlyArray<number>;\n  onChangeChannel: (channel: Channel) => void;\n  onCancel: () => void;\n  onSave: (selection: ReadonlyArray<number>) => void;\n}\n\nexport class FavouritesEditorComponent extends Component<FavouritesEditorProps> {\n  public state = {\n    selectedChannels: this.props.favourites,\n    touched: false,\n  };\n\n  @autobind\n  private handleSelectionChange(selection: ReadonlyArray<number>) {\n    this.setState({ selectedChannels: selection, touched: true });\n  }\n\n  public render() {\n    const header = <SaveBar\n      saveDisabled={!this.state.selectedChannels.length || !this.state.touched}\n      onSave={() => this.props.onSave(this.state.selectedChannels)}\n      onCancel={this.props.onCancel}/>;\n\n    const body = <SelectableChannelsList\n      channels={this.props.channels}\n      selected={this.state.selectedChannels}\n      onChangeChannel={this.props.onChangeChannel}\n      onSelectionChange={this.handleSelectionChange}/>;\n\n    return (\n      <SidePanel header={header} body={body}/>\n    );\n  }\n}\n\nfunction mapStateToProps(state: AppState): Partial<FavouritesEditorProps> {\n  return {\n    channels: state.playlist.channels,\n    favourites: state.favourites,\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch<AppState>, ownProps: RouteComponentProps<{}>): Partial<FavouritesEditorProps> {\n  return {\n    onSave: (favourites) => {\n      dispatch(new SaveFavourites({favourites}));\n      ownProps.history.push('/');\n    },\n    onCancel: () => ownProps.history.push('/'),\n  };\n}\n\nexport const FavouritesEditor = withChannelNavigation(\n  connect(mapStateToProps, mapDispatchToProps)(FavouritesEditorComponent),\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/favourites-editor/favourites-editor.tsx","import React, { PureComponent } from 'react';\nimport Check from 'react-icons/lib/fa/check';\nimport Repeat from 'react-icons/lib/fa/repeat';\n\nimport styles from './save-bar.scss';\n\ninterface SaveBarProps {\n  saveDisabled?: boolean;\n  onSave: () => void;\n  onCancel: () => void;\n}\n\nexport class SaveBar extends PureComponent<SaveBarProps> {\n  public render() {\n    return (\n      <div className={styles.saveBar}>\n        <div className={styles.btns}>\n          <button className={styles.btnSave} disabled={this.props.saveDisabled} title='Save'\n                  onClick={this.props.onSave}>\n            <Check/>\n          </button>\n          <button className={styles.btnCancel} title='Cancel'\n                  onClick={this.props.onCancel}>\n            <Repeat/>\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/favourites-editor/save-bar/save-bar.tsx","import React, { Component } from 'react';\n\ninterface DateFormatterProps {\n  children: number;\n}\nexport class DateFormatter extends Component<DateFormatterProps> {\n  private format(ts: number) {\n    const date = new Date(ts * 1000);\n    return date.toLocaleDateString();\n  }\n\n  public render() {\n    return <span>{this.format(this.props.children)}</span>;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/formatters/date.tsx","import React, { Component } from 'react';\n\ninterface DurationProps {\n  children: number;\n}\nexport class Duration extends Component<DurationProps> {\n  private format(value: number) {\n    const minutes = value / 60;\n\n    if (minutes < 60) {\n      return `${minutes} min`;\n    }\n\n    const hours = Math.floor(minutes / 60);\n    return `${hours}h ${minutes - hours * 60} min`;\n  }\n\n  public render() {\n    return <span>{this.format(this.props.children)}</span>;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/formatters/duration.tsx","import React, {PureComponent} from 'react';\nimport styles from './header.scss';\nimport Cog from 'react-icons/lib/fa/cog';\nimport autobind from 'autobind-decorator';\nimport {RouteComponentProps, withRouter} from 'react-router';\nimport {CastButton} from '../cast-button/cast-button';\n\ninterface HeaderProps {}\n\nclass Header extends PureComponent<RouteComponentProps<HeaderProps>> {\n  @autobind\n  private goToSettings() {\n    this.props.history.push('/settings');\n  }\n\n  public render() {\n    return (\n      <header className={styles.host}>\n        <div className={styles.channelsBtns}>\n          {/*<button className={styles.btn} title='Channels list' type='button'>*/}\n            {/*<List/>*/}\n          {/*</button>*/}\n        </div>\n        <div className={styles.settingsBtns}>\n          <CastButton />\n          <button className={styles.btn}\n                  onClick={this.goToSettings}\n                  title='Settings'\n                  type='button'>\n            <Cog/>\n          </button>\n        </div>\n      </header>\n    );\n  }\n}\n\nexport const HeaderWithRouter = withRouter<HeaderProps>(Header);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/header/header.component.tsx","import React, { PureComponent, ReactFragment } from 'react';\nimport Star from 'react-icons/lib/fa/star';\nimport List from 'react-icons/lib/fa/align-justify';\nimport Folder from 'react-icons/lib/fa/folder';\nimport { ChannelListMode } from './channel-list-modes';\n\nimport styles from './list-switcher.scss';\n\ninterface ListSwitcherProps {\n  onSwitch: (type: ChannelListMode) => void;\n  current: ChannelListMode;\n}\n\ninterface Option {\n  btnTitle: string;\n  title: string;\n  icon: ReactFragment;\n  type: ChannelListMode;\n}\n\nexport class ListSwitcher extends PureComponent<ListSwitcherProps> {\n  private options: Option[] = [\n    {\n      btnTitle: 'Show favourites',\n      title: 'Favourites',\n      icon: <Star/>,\n      type: ChannelListMode.favourites,\n    },\n    {\n      btnTitle: 'Show all',\n      title: 'All',\n      icon: <List/>,\n      type: ChannelListMode.all,\n    },\n    {\n      btnTitle: 'Show by categories',\n      title: 'Categories',\n      icon: <Folder/>,\n      type: ChannelListMode.grouped,\n    },\n  ];\n\n  private isCurrent(option: Option) {\n    return option.type === this.props.current;\n  }\n\n  private get current() {\n    return this.options.find(this.isCurrent.bind(this));\n  }\n\n  public render() {\n    return (\n      <div className={styles.listSwitcher}>\n\n        <h3 className={styles.currentModeTitle}>\n          {this.current.title}\n        </h3>\n\n        <div className={styles.options}>\n          {this.options.map((option, i) => (\n            <button className={this.isCurrent(option) ? styles.optionCurrent : styles.option}\n                    key={i}\n                    onClick={() => this.props.onSwitch(option.type)}\n                    title={option.btnTitle}>\n              {option.icon}\n            </button>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/list-switcher/list-switcher.tsx","import React, { PureComponent } from 'react';\nimport { Link } from 'react-router-dom';\nimport Star from 'react-icons/lib/fa/star';\nimport styles from './no-favourites.scss';\n\nexport class NoFavourites extends PureComponent {\n  public render() {\n    return (\n      <div className={styles.host}>\n        <div className={styles.noFavIcon}>\n          <Star/>\n        </div>\n\n        <div className={styles.text}>\n          Favorites are not set yet <br/>\n          <Link className={styles.action} to='/edit-favourites'>Set Now..</Link>\n        </div>\n\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/no-favourites/no-favourites.tsx","import React, { PureComponent } from 'react';\nimport { VideoPlayer } from '../video-player/video-player';\nimport styles from './player-area.scss';\nimport { Channel } from '../../entities/channel.model';\nimport { ChannelEpg } from '../channel-epg/channel-epg.container';\nimport { AppState } from '../../store';\nimport { connect } from 'react-redux';\nimport { withChannelNavigation } from '../hoc/with-channel-navigation';\n\ninterface Props {\n  currentChannel: Readonly<Channel>;\n  currentKey: string;\n  castingSessionState: cast.framework.SessionState;\n}\n\nclass PlayerAreaComponent extends PureComponent<Props> {\n  public getStreamUrl(channel: Channel) {\n    return ((channel && channel.stream) || '')\n      .replace('{KEY}', this.props.currentKey);\n  }\n\n  public componentWillReceiveProps(nextProps: Props) {\n    this.setMediaToCast(nextProps.castingSessionState, nextProps.currentChannel);\n  }\n\n  private setMediaToCast(sessionState: string, channel: Channel) {\n    if (!this.isCastingEnabled(sessionState) || !channel) {\n      return;\n    }\n\n    const media: any = chrome.cast.media;\n    const castSession = cast.framework.CastContext.getInstance().getCurrentSession();\n\n    const mediaInfo = new media.MediaInfo(this.getStreamUrl(channel), 'application/x-mpegURL');\n    const request = new media.LoadRequest(mediaInfo);\n\n    mediaInfo.metadata = new media.GenericMediaMetadata();\n    mediaInfo.metadata.title = channel.name;\n\n    castSession.loadMedia(request);\n  }\n\n  private isCastingEnabled(sessionState: string): boolean {\n    return ['SESSION_STARTED', 'SESSION_RESUMED'].includes(sessionState);\n  }\n\n  public render() {\n    return (\n      <div className={styles.mainPanel}>\n        {!this.isCastingEnabled(this.props.castingSessionState) ? (\n          <div className={styles.playerContainer}>\n            <VideoPlayer src={this.getStreamUrl(this.props.currentChannel)}/>\n          </div>\n        ) : null}\n        {this.props.currentChannel && <ChannelEpg channelId={this.props.currentChannel.id}/>}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state: AppState): Partial<Props> {\n  return {\n    currentKey: state.settings.currentKey,\n    castingSessionState: state.casting.sessionState,\n  };\n}\n\nexport const PlayerArea = withChannelNavigation(connect(mapStateToProps)(PlayerAreaComponent));\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/player-area/player-area.component.tsx","import autobind from 'autobind-decorator';\nimport React, { PureComponent, SyntheticEvent } from 'react';\nimport { connect } from 'react-redux';\nimport { RouteComponentProps } from 'react-router';\nimport { Dispatch } from 'redux';\nimport { ChangeSettings } from '../../store/actions/settings.actions';\nimport { SettingsState } from '../../store/reducers/settings.reducer';\nimport { AppState } from '../../store';\nimport styles from './settings.scss';\n\ninterface Props {\n  playlistUrl: string;\n  currentKey: string;\n  onSubmit: (data: SettingsState) => void;\n  onCancel: () => void;\n}\n\nexport class SettingsComponent extends PureComponent<Props> {\n  private playlistInput: HTMLInputElement;\n  private keyInput: HTMLInputElement;\n\n  @autobind\n  private handleSubmit($event: SyntheticEvent<HTMLFormElement>) {\n    $event.preventDefault();\n\n    this.props.onSubmit({\n      playlistUrl: this.playlistInput.value,\n      currentKey: this.keyInput.value,\n    });\n  }\n\n  @autobind\n  private handleCancel() {\n    this.props.onCancel();\n  }\n\n  public render() {\n    return (\n      <div className={styles.host}>\n        <h2 className={styles.title}>Settings</h2>\n\n        <form onSubmit={this.handleSubmit} className={styles.gridForm}>\n          <label className={styles.blockField}>\n            <input ref={(inp) => this.playlistInput = inp}\n                   defaultValue={this.props.playlistUrl}\n                   type='text' name='playlist-url'></input>\n            <span className={styles.fieldLabel}>Playlist Url</span>\n          </label>\n\n          <label className={styles.blockField}>\n            <input ref={(inp) => this.keyInput = inp}\n                   defaultValue={this.props.currentKey}\n                   type='text' name='auth-key'></input>\n            <span className={styles.fieldLabel}>Key</span>\n          </label>\n\n          <div className={styles.formActions}>\n            <button className={styles.submitBtn}\n                    type='submit'>Save</button>\n            <button className={styles.cancelBtn}\n                    onClick={this.handleCancel}\n                    type='button'>Cancel</button>\n          </div>\n\n        </form>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state: AppState): Partial<Props> {\n  return state.settings;\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch<AppState>, ownProps: RouteComponentProps<{}>): Partial<Props>  {\n  return {\n    onSubmit: (settings) => {\n      dispatch(new ChangeSettings({settings}));\n      ownProps.history.push('/');\n    },\n    onCancel: () => ownProps.history.push('/'),\n};\n}\n\nexport const Settings = connect(mapStateToProps, mapDispatchToProps)(SettingsComponent);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/settings/settings.tsx","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect, RouteComponentProps } from 'react-router';\nimport { Route, Switch } from 'react-router-dom';\nimport { Dispatch } from 'redux';\nimport { StopEpgSync } from '../../store/actions/epg.actions';\nimport { RequestPlaylist } from '../../store/actions/playlist.actions';\nimport { AppState } from '../../store';\nimport { ChannelsPanel } from '../channels-panel/channels-panel.container';\nimport { FavouritesEditor } from '../favourites-editor/favourites-editor';\nimport { PlayerArea } from '../player-area/player-area.component';\nimport styles from './tv-portal.scss';\n\ninterface Props extends RouteComponentProps<{}> {\n  currentKey: string;\n  playlistUrl: string;\n\n  onFetchData: (playlistUrl: string) => void;\n  onUnmount: () => void;\n}\n\nexport class TvPortalComponent extends PureComponent<Props> {\n  public componentDidMount() {\n    if (this.props.playlistUrl) {\n      this.props.onFetchData(this.props.playlistUrl);\n    }\n  }\n\n  public componentWillUnmount() {\n    this.props.onUnmount();\n  }\n\n  public render() {\n    return (\n      <div className={styles.host}>\n        {!this.props.playlistUrl ? <Redirect to='/settings'/> : null}\n\n        <Switch>\n          <Route exact path={'/edit-favourites'} component={FavouritesEditor}/>\n          <Route path={this.props.match.path} component={ChannelsPanel}/>\n        </Switch>\n\n        <Route path={this.props.match.path} component={PlayerArea}/>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state: AppState): Partial<Props> {\n  return {\n    currentKey: state.settings.currentKey,\n    playlistUrl: state.settings.playlistUrl,\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch<AppState>): Partial<Props> {\n  return {\n    onFetchData: async (playlistUrl: string) => {\n      dispatch(new RequestPlaylist({ playlistUrl }));\n    },\n    onUnmount: () => {\n      dispatch(new StopEpgSync());\n    },\n  };\n}\n\nexport const TvPortal = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(TvPortalComponent);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tv-portal/tv-portal.component.tsx","import React, { Component } from 'react';\nimport videojs from '../../libs/video';\nimport './video-player.scss';\nimport { Player } from 'video.js';\n\ninterface VideoPlayerProps {\n  src: string;\n}\n\nexport class VideoPlayer extends Component<VideoPlayerProps> {\n  private player: videojs.Player;\n\n  public componentDidMount() {\n    this.player = videojs(this.refs.video, {\n      autoplay: true,\n      fluid: true,\n      controls: true,\n    });\n\n    if (this.props.src) {\n      this.updateSrc(this.props.src);\n    }\n  }\n\n  public componentWillUnmount() {\n    if (this.player) {\n      this.player.dispose();\n    }\n  }\n\n  public componentWillReceiveProps(nextProps: VideoPlayerProps) {\n    if (this.player && nextProps.src && (nextProps.src !== this.props.src)) {\n      this.updateSrc(nextProps.src);\n    }\n  }\n\n  private updateSrc(src: string) {\n    this.player.ready(function(this: Player) {\n      this.src({\n        src,\n        type: 'application/x-mpegURL',\n      });\n    });\n  }\n\n  public shouldComponentUpdate() {\n    return false;\n  }\n\n  public render() {\n    return (\n      <div data-vjs-player className='video-js vjs-big-play-centered'>\n        <video ref='video'></video>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/video-player/video-player.tsx","import Dexie from 'dexie';\nimport { EpgEntry } from './entities/epg-entry';\n\nexport class OttDataBase extends Dexie {\n  public epg: Dexie.Table<EpgEntry, number>;\n\n  constructor() {\n    super('OttPlayerDb');\n\n    this.version(1).stores({\n      epg: '++, *chId',\n    });\n  }\n}\n\nexport const db = new OttDataBase();\n\n\n\n// WEBPACK FOOTER //\n// ./src/db.ts","interface KeyValuePair {\n  key: string;\n  value: string;\n}\n\ntype ParsingResult = { errors: string[], playlist: ParsedPlaylist };\n\nexport class PlaylistParser {\n  private errors: string[] = [];\n  private result = new ResultBuilder();\n\n  public parse(data: string): ParsingResult {\n    if (!data) {\n      return this.throwError('no data specified');\n    }\n    data = data.trim();\n    if (!M3uTagParser.check(data)) {\n      return this.throwError('Playlist file should starts from #EXTM3U tag');\n    }\n\n    data\n      .match(/[^\\r\\n]+/g)\n      .forEach(this.parseLine.bind(this));\n\n    return {\n      errors: this.errors,\n      playlist: this.result.getResult(),\n    };\n  }\n\n  private throwError(error: string): ParsingResult {\n    this.errors.push(error);\n    return {\n      errors: this.errors,\n      playlist: null,\n    };\n  }\n\n  private parseLine(string: string, index: number) {\n    if (index === 0 && M3uTagParser.check(string)) {\n      const global = this.mapKeyValue(M3uTagParser.parse(string));\n      this.result.setGlobalData(global);\n    } else if (ExtTagParser.check(string)) {\n      const ext = this.mapKeyValue(ExtTagParser.parse(string));\n      this.result.addChannel(ext);\n    } else {\n      this.result.setChannelStream(string);\n    }\n  }\n\n  private mapKeyValue(array: KeyValuePair[]) {\n    return array.reduce((acc, entry) => {\n      const { key, value } = entry;\n      acc[key] = value;\n      return acc;\n    }, {} as { [key: string]: string });\n  }\n}\n\nexport class M3uTagParser {\n  public static check(string: string): boolean {\n    return string.indexOf('#EXTM3U') === 0;\n  }\n\n  public static parse(line: string): KeyValuePair[] {\n    return line.match(/([a-z-]+)=\"(.+?)\"/g).map((string) => {\n      const [key, value] = string.replace(/\"/g, '').split('=');\n      return { key, value };\n    });\n  }\n}\n\nexport class ExtTagParser {\n  public static check(string: string): boolean {\n    return string.indexOf('#EXTINF') === 0;\n  }\n\n  public static parse(line: string): KeyValuePair[] {\n    const params = M3uTagParser.parse(line);\n    params.push({ key: 'channel-name', value: line.match(/,\\s?(.+)/)[1] });\n    return params;\n  }\n}\n\ninterface ParsedChannel {\n  id: number;\n  name: string;\n  logo: string;\n  archive: boolean;\n  groupTitle: string;\n  stream: string;\n}\n\ninterface ParsedPlaylist {\n  urlEpg: string;\n  urlLogo: string;\n  keyRequired: boolean;\n  channels: ParsedChannel[];\n}\n\nclass ResultBuilder {\n  private data: ParsedPlaylist = {\n    urlEpg: null,\n    urlLogo: null,\n    keyRequired: null,\n    channels: [],\n  };\n\n  public getResult(): ParsedPlaylist {\n    return this.data;\n  }\n\n  public setGlobalData(data: any) {\n    this.data.urlEpg = data['url-epg'];\n    this.data.urlLogo = data['url-logo'];\n  }\n\n  public addChannel(data: any) {\n    this.data.channels.push({\n      id: +data['tvg-id'],\n      name: data['channel-name'],\n      logo: this.data.urlLogo + data['tvg-logo'],\n      archive: data['tvg-rec'] === '1',\n      groupTitle: data['group-title'],\n      stream: null,\n    });\n  }\n\n  public setChannelStream(streamUrl: string) {\n    if (!this.data.keyRequired) {\n      this.data.keyRequired = streamUrl.indexOf('{KEY}') !== -1;\n    }\n\n    this.data.channels[this.data.channels.length - 1].stream = streamUrl;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/libs/playlist-parser/playlist-parser.ts","export class LocalStorageFactory {\n  public static create<T>(componentName: string): StorageProxy<T> {\n    return new StorageProxy<T>(componentName, window.localStorage);\n  }\n}\n\nexport class StorageProxy<T> {\n  private lastValue: T;\n\n  constructor(\n    private key: string,\n    private storage: Storage,\n  ) {}\n\n  public get(defaultValue?: T): T {\n    const value = JSON.parse(this.storage.getItem(this.key));\n    this.lastValue = value;\n    return value === null ? defaultValue : value;\n  }\n\n  public set(value: T) {\n    if (this.lastValue === value) {\n      return;\n    }\n\n    this.lastValue = value;\n    this.storage.setItem(this.key, JSON.stringify(value));\n  }\n\n  public remove() {\n    this.storage.removeItem(this.key);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/libs/storage.ts","import videojs from 'video.js';\nimport 'videojs-contrib-hls';\n\nexport default videojs;\n\n\n\n// WEBPACK FOOTER //\n// ./src/libs/video.ts","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport thunkMiddleware from 'redux-thunk';\nimport { initializeCastApi } from '../casting/initialize-casting-api';\nimport { Playlist } from '../entities/playlist.model';\nimport { LocalStorageFactory } from '../libs/storage';\nimport { castingReducer, CastingState } from './reducers/casting.reducer';\nimport { epgReducer, EpgState } from './reducers/epg.reducer';\nimport { favouritesReducer, FavouritesState } from './reducers/favourites.reducer';\nimport { playlistReducer } from './reducers/playlist.reducer';\nimport { settingsReducer, SettingsState } from './reducers/settings.reducer';\nimport { uiPreferencesReducer, UiPreferencesState } from './reducers/ui-preferences.reducer';\nimport { rootSaga } from './sagas';\n\nexport interface AppState {\n  readonly playlist: Playlist;\n  readonly favourites: FavouritesState;\n\n  readonly settings: SettingsState;\n  readonly epg: EpgState;\n  readonly uiPreferences: UiPreferencesState;\n  readonly casting: CastingState;\n}\n\nconst ottApp = combineReducers<AppState>({\n  playlist: playlistReducer,\n  favourites: favouritesReducer,\n  settings: settingsReducer,\n  epg: epgReducer,\n  uiPreferences: uiPreferencesReducer,\n  casting: castingReducer,\n});\n\nconst sagaMiddleware = createSagaMiddleware();\nconst composeEnhancers = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst favouritesStorage = LocalStorageFactory.create<ReadonlyArray<number>>('favourites');\nconst settingsStorage = LocalStorageFactory.create<SettingsState>('settings');\nconst uiPreferencesStorage = LocalStorageFactory.create<UiPreferencesState>('ui-preferences');\nconst epgLastUpdateStorage = LocalStorageFactory.create<EpgState['lastUpdate']>('epgLastUpdate');\n\nconst preloadState: Partial<AppState> = {\n  favourites: favouritesStorage.get(),\n  uiPreferences: uiPreferencesStorage.get(),\n  settings: settingsStorage.get(),\n  epg: {\n    entries: {},\n    lastUpdate: epgLastUpdateStorage.get(),\n  },\n};\n\nexport const store = createStore<AppState>(ottApp,\n  preloadState as AppState,\n  composeEnhancers(applyMiddleware(\n    thunkMiddleware,\n    sagaMiddleware,\n  )),\n);\n\nsagaMiddleware.run(rootSaga);\n\nstore.subscribe(() => {\n  const state = store.getState();\n  favouritesStorage.set(state.favourites);\n  settingsStorage.set(state.settings);\n  uiPreferencesStorage.set(state.uiPreferences);\n  epgLastUpdateStorage.set(state.epg.lastUpdate);\n});\n\ninitializeCastApi(store);\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.ts","import { on, reducer } from 'ts-action';\nimport { SaveFavourites } from '../actions/favourites.actions';\n\nexport type FavouritesState = ReadonlyArray<number>;\n\nconst initialState: FavouritesState = [];\n\nexport const favouritesReducer = reducer<FavouritesState>([\n  on(SaveFavourites, (_state, { payload }) => payload.favourites),\n], initialState);\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/reducers/favourites.reducer.ts","import { on, reducer } from 'ts-action';\nimport { ReceivePlaylist } from '../actions/playlist.actions';\nimport { Playlist } from '../../entities/playlist.model';\n\nconst initialPlaylist: Playlist = {\n  urlEpg: null,\n  urlLogo: null,\n  channels: [],\n};\n\nexport const playlistReducer = reducer<Playlist>([\n  on(ReceivePlaylist, (_state, { payload }) => payload.playlist),\n], initialPlaylist);\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/reducers/playlist.reducer.ts","import { on, reducer } from 'ts-action';\nimport { ChangeSettings } from '../actions/settings.actions';\nexport interface SettingsState {\n  readonly playlistUrl: string;\n  readonly currentKey: string;\n}\n\nconst initialState: SettingsState = {\n  playlistUrl: '',\n  currentKey: '',\n};\n\nexport const settingsReducer = reducer<SettingsState>([\n  on(ChangeSettings, (_state, { payload }) => ({ ...payload.settings })),\n], initialState);\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/reducers/settings.reducer.ts","import { on, reducer } from 'ts-action';\nimport { SetChannelsListMode } from '../actions/ui-preferences.actions';\nimport { ChannelListMode } from '../../components/list-switcher/channel-list-modes';\n\nexport interface UiPreferencesState {\n  readonly channelListMode: ChannelListMode;\n}\n\nconst initialState: UiPreferencesState = {\n  channelListMode: ChannelListMode.grouped,\n};\n\nexport const uiPreferencesReducer = reducer<UiPreferencesState>([\n  on(SetChannelsListMode, (state, { payload }) => ({ ...state, channelListMode: payload.mode })),\n], initialState);\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/reducers/ui-preferences.reducer.ts","import { delay } from 'redux-saga';\nimport { call, cancel, cancelled, fork, put, select, take } from 'redux-saga/effects';\nimport * as Api from '../../api/epg.api';\nimport { FetchEpgResponse } from '../../api/epg.api';\nimport {\n  FailedLoadEpg,\n  ReceiveEpg,\n  StopEpgSync, GetEpg,\n} from '../actions/epg.actions';\nimport { AppState } from '../index';\nimport { db } from '../../db';\n\nconst EPG_UPDATE_PERIOD_HOURS = 6;\n\nfunction isEpgOutdated(lastUpdate: number) {\n  return !lastUpdate || ((Date.now() - lastUpdate) >= EPG_UPDATE_PERIOD_HOURS * 1000 * 60 * 60);\n}\n\nfunction *startSync() {\n  while (true) {\n    // starts the task in the background\n    const state: AppState = yield select();\n    const channelsIds = state.playlist.channels.map((ch) => ch.id);\n    const bgSyncTask = yield fork(bgSync, state.playlist.urlEpg, channelsIds);\n\n    // wait for the user stop action\n    yield take(StopEpgSync.type);\n    yield cancel(bgSyncTask);\n  }\n}\n\nfunction* bgSync(url: string, channelsIds: number[]) {\n  try {\n    while (true) {\n      const state: AppState = yield select();\n\n      if (isEpgOutdated(state.epg.lastUpdate)) {\n        const epg = (yield call(Api.fetchEpg, url, channelsIds)) as FetchEpgResponse;\n        yield put(new ReceiveEpg({ epg, finishTime: Date.now() }));\n        yield call([db.epg, 'clear']);\n        yield call([db.epg, 'bulkAdd'], epg);\n      }\n\n      yield call(delay, 1000 * 60 * 60);\n    }\n  } finally {\n    if (yield cancelled()) {\n      yield put(new FailedLoadEpg({error: 'Cancelled'}));\n    }\n  }\n}\n\nfunction *getEpg() {\n  while (true) {\n    yield take(GetEpg.type);\n    const state: AppState = yield select();\n\n    if (!isEpgOutdated(state.epg.lastUpdate)) {\n      const epg = yield call([db.epg, 'toArray']);\n      yield put(new ReceiveEpg({ epg, finishTime: state.epg.lastUpdate }));\n    }\n    yield startSync();\n  }\n}\n\nexport default function* main() {\n  yield getEpg();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/sagas/epg.saga.ts","import { all } from 'redux-saga/effects';\nimport channelEpg from './epg.saga';\nimport playlist from './playlist.saga';\n\nexport function* rootSaga() {\n  yield all([\n    channelEpg(),\n    playlist(),\n  ]);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/sagas/index.ts","import { call, put, take } from 'redux-saga/effects';\nimport * as Api from '../../api/playlist.api';\nimport { Playlist } from '../../entities/playlist.model';\nimport { GetEpg } from '../actions/epg.actions';\nimport { ReceivePlaylist, RequestPlaylist } from '../actions/playlist.actions';\n\nexport default function* main() {\n  while (true) {\n    const action = (yield take(RequestPlaylist.type)) as typeof RequestPlaylist.action;\n    const playlist = (yield call(Api.fetchPlaylist, action.payload.playlistUrl)) as Playlist;\n    yield put(new ReceivePlaylist({ playlist }));\n    yield put(new GetEpg());\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/sagas/playlist.saga.ts","// removed by extract-text-webpack-plugin\nmodule.exports = {\"appWrap\":\"app__appWrap--UH-yP\",\"container\":\"app__container--2xPNi\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app.scss\n// module id = 155\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"default\":\"cast-button__default--Bu6K3\",\"active\":\"cast-button__active--2cPnv\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/cast-button/cast-button.scss\n// module id = 156\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"host\":\"channel-epg__host--24usi\",\"entry\":\"channel-epg__entry--20qZg\",\"entryActive\":\"channel-epg__entryActive--3SLJQ\",\"mainInfo\":\"channel-epg__mainInfo--1kcUU\",\"name\":\"channel-epg__name--VaptA\",\"timing\":\"channel-epg__timing--3ApOl\",\"endTime\":\"channel-epg__endTime--1UADV\",\"sideInfo\":\"channel-epg__sideInfo--2H_zS\",\"date\":\"channel-epg__date--pMi80\",\"startTime\":\"channel-epg__startTime--3Gkql\",\"duration\":\"channel-epg__duration--3snaL\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/channel-epg/channel-epg.scss\n// module id = 157\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"details\":\"channels-detail__details--30vfY\",\"name\":\"channels-detail__name--3_GWx\",\"currentProgram\":\"channels-detail__currentProgram--2bPhR\",\"nextProgram\":\"channels-detail__nextProgram--3V11S\",\"time\":\"channels-detail__time--2Ge5U\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/channels/channel-detail/channels-detail.scss\n// module id = 158\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"item\":\"channels-list__item--2HTnI\",\"itemActive\":\"channels-list__itemActive--3wsKl\",\"icon\":\"channels-list__icon--2xa6T\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/channels/channels-list/channels-list.scss\n// module id = 159\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"groupCollapsed\":\"grouped-channels-list__groupCollapsed--2Y-7c\",\"groupExpanded\":\"grouped-channels-list__groupExpanded--3b8ar\",\"header\":\"grouped-channels-list__header--ojiGT\",\"body\":\"grouped-channels-list__body--2sOkX\",\"arrowIcon\":\"grouped-channels-list__arrowIcon--1WGmb\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/channels/grouped-channels-list/grouped-channels-list.scss\n// module id = 160\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"checkbox\":\"selectable-channels-list__checkbox--ISE-J\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/channels/selectable-channels-list/selectable-channels-list.scss\n// module id = 161\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"saveBar\":\"save-bar__saveBar--VoKOr\",\"btns\":\"save-bar__btns--2yULT\",\"btnSave\":\"save-bar__btnSave--31a-O\",\"btnCancel\":\"save-bar__btnCancel--1K9wo\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/favourites-editor/save-bar/save-bar.scss\n// module id = 162\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"host\":\"header__host--10_Ga\",\"btn\":\"header__btn--2atgb\",\"settingsBtns\":\"header__settingsBtns--3Kypt\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/header/header.scss\n// module id = 163\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"listSwitcher\":\"list-switcher__listSwitcher--3eRsU\",\"currentModeTitle\":\"list-switcher__currentModeTitle--24MKV\",\"options\":\"list-switcher__options--1ZD-2\",\"option\":\"list-switcher__option--3AHrS\",\"optionCurrent\":\"list-switcher__optionCurrent--1hhda\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/list-switcher/list-switcher.scss\n// module id = 164\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"host\":\"no-favourites__host--36nM8\",\"noFavIcon\":\"no-favourites__noFavIcon--1H2f3\",\"text\":\"no-favourites__text--Of-mo\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/no-favourites/no-favourites.scss\n// module id = 165\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"mainPanel\":\"player-area__mainPanel--2sT_T\",\"playerContainer\":\"player-area__playerContainer--2W2t-\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/player-area/player-area.scss\n// module id = 166\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"host\":\"progress-bar__host--1_cqD\",\"bar\":\"progress-bar__bar--c0k7T\",\"inner\":\"progress-bar__inner--2d7G2\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/progress-bar/progress-bar.scss\n// module id = 167\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"host\":\"settings__host--2VOZe\",\"title\":\"settings__title--5c6zd\",\"gridForm\":\"settings__gridForm--2WOdT\",\"blockField\":\"settings__blockField--2oiC2\",\"formActions\":\"settings__formActions--27vk8\",\"fieldLabel\":\"settings__fieldLabel--lgbII\",\"submitBtn\":\"settings__submitBtn--16zHh\",\"cancelBtn\":\"settings__cancelBtn--2V6mF\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/settings/settings.scss\n// module id = 168\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"host\":\"side-panel__host--1VsZL\",\"header\":\"side-panel__header--eBJYe\",\"body\":\"side-panel__body--8iJH8\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/side-panel/side-panel.scss\n// module id = 169\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"host\":\"tv-portal__host--1xRMV\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/tv-portal/tv-portal.scss\n// module id = 170\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"video-player\":\"video-player__video-player--2wp8w\",\"vjs-spinner-spin\":\"video-player__vjs-spinner-spin--2SzGG\",\"vjs-spinner-fade\":\"video-player__vjs-spinner-fade--3fvQZ\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/video-player/video-player.scss\n// module id = 171\n// module chunks = 0","import { action, payload } from 'ts-action';\nimport { EpgEntry } from '../../entities/epg-entry';\n\nexport const ReceiveEpg = action('[EPG] Receive epg', payload<{epg: EpgEntry[], finishTime: number}>());\n\nexport const FailedLoadEpg = action('[EPG] Failed load channel', payload<{error: string}>());\n\nexport const GetEpg = action('[EPG] Get epg');\n\nexport const StopEpgSync = action('[EPG] Stop sync channel');\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions/epg.actions.ts","import { on, reducer } from 'ts-action';\nimport { EpgEntry, EpgDictionary } from '../../entities/epg-entry';\nimport { ReceiveEpg } from '../actions/epg.actions';\n\nexport interface EpgState {\n  lastUpdate: number;\n  entries: EpgDictionary;\n}\n\nconst initialState: EpgState = {\n  lastUpdate: null,\n  entries: {},\n};\n\nexport function epgInAir(entry: EpgEntry) {\n  const currentTime = Date.now() / 1000;\n  return entry.startTime <= currentTime && entry.endTime >= currentTime;\n}\n\nfunction toDictionary(entries: EpgEntry[]): EpgDictionary {\n  return entries.reduce((acc, entry) => {\n    if (!acc[entry.chId]) {\n      acc[entry.chId] = [entry];\n    } else {\n      acc[entry.chId].push(entry);\n    }\n\n    return acc;\n  }, {} as EpgDictionary);\n}\n\nexport const epgReducer = reducer<EpgState>([\n  on(ReceiveEpg, (state, { payload }) => (\n    {\n      ...state,\n      entries: toDictionary(payload.epg),\n      lastUpdate: payload.finishTime,\n    }\n  )),\n], initialState);\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/reducers/epg.reducer.ts","import React, { PureComponent, ReactFragment } from 'react';\nimport { Channel, ReadonlyChannelsCollection } from '../../../entities/channel.model';\nimport { ChannelDetail } from '../channel-detail/channel-detail';\nimport styles from './channels-list.scss';\n\ninterface ChannelsListProps {\n  onChangeChannel?: (channel: Channel) => void;\n  channels: ReadonlyChannelsCollection;\n  current?: Channel;\n  control?: (channel: Channel) => ReactFragment;\n  scrollbarController?: any;\n}\n\nexport class ChannelsList extends PureComponent<ChannelsListProps> {\n  private activeElementRef: HTMLElement;\n\n  private isActive(chanel: Channel) {\n    return chanel === this.props.current;\n  }\n\n  private isInitiallyScrolled = false;\n\n  private scrollToActiveChannel() {\n    if (!this.isInitiallyScrolled && this.props.scrollbarController && this.activeElementRef) {\n      this.isInitiallyScrolled = true;\n\n      setTimeout(() => {\n        const values = this.props.scrollbarController.getValues();\n\n        const topPoint = values.scrollTop;\n        const bottomPoint = values.clientHeight + values.scrollTop;\n        const elementTop = this.activeElementRef.offsetTop;\n\n        if (topPoint < elementTop && bottomPoint < elementTop) {\n          this.props.scrollbarController.scrollTop(elementTop);\n        }\n      });\n    }\n  }\n\n  public componentDidMount() {\n    this.scrollToActiveChannel();\n  }\n\n  public componentDidUpdate() {\n    this.scrollToActiveChannel();\n  }\n\n  public render() {\n    return (\n      <div className={styles.channelsList}>\n        {this.props.channels.map((channel) =>\n          <div className={this.isActive(channel) ? styles.itemActive : styles.item}\n               ref={(ref) => this.isActive(channel) && (this.activeElementRef = ref)}\n               onClick={() => this.props.onChangeChannel(channel)}\n               key={channel.id}>\n            <div className={styles.icon}>\n              {this.props.control && this.props.control(channel)}\n              <img src={channel.logo} alt=''/>\n            </div>\n            <ChannelDetail channel={channel} />\n          </div>,\n        )}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/channels/channels-list/channels-list.tsx","import React, { ComponentType, PureComponent } from 'react';\nimport { Channel, ReadonlyChannelsCollection } from '../../entities/channel.model';\nimport { match as Match } from 'react-router';\nimport { AppState } from '../../store';\nimport { History } from 'history';\nimport { connect } from 'react-redux';\n\ninterface InjectedProps extends Partial<NeedsProps> {\n  onChangeChannel?: (channel: Channel) => void;\n  currentChannel?: Readonly<Channel>;\n}\n\ninterface NeedsProps {\n  history: History;\n  match: Match<{\n    channelSlug: string;\n  }>;\n  channels: ReadonlyChannelsCollection;\n}\n\nexport const withChannelNavigation = (WrappedComponent: ComponentType<InjectedProps>) => {\n  class WithChannelNavigation extends PureComponent<NeedsProps> {\n    public static displayName = `WithChannelNavigation(${getDisplayName(WrappedComponent)})`;\n\n    private getCurrentChannel(channels: ReadonlyChannelsCollection, channelSlug: string): Channel {\n      if (!channels.length || !channelSlug) {\n        return null;\n      }\n\n      const [id] = channelSlug.match(/^[^-]+/);\n\n      if (id) {\n        return channels.find((ch) => ch.id === +id);\n      }\n\n      return null;\n    }\n\n    private getChannelSlug(channel: Channel) {\n      return channel.id;\n    }\n\n    public render() {\n      const props = {\n        currentChannel: this.getCurrentChannel(this.props.channels, this.props.match.params.channelSlug),\n        onChangeChannel: (channel: Channel) => this.props.history.push('/' + this.getChannelSlug(channel)),\n        ...this.props,\n      };\n\n      return <WrappedComponent {...props} />;\n    }\n  }\n\n  function mapStateToProps(state: AppState): Partial<NeedsProps> {\n    return {\n      channels: state.playlist.channels,\n    };\n  }\n  return connect(mapStateToProps)(WithChannelNavigation);\n};\n\nfunction getDisplayName(WrappedComponent: ComponentType) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/hoc/with-channel-navigation.tsx","export enum ChannelListMode {\n  favourites = 1,\n  all = 2,\n  grouped = 3,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/list-switcher/channel-list-modes.ts","import { action, payload, union } from 'ts-action';\nimport { Playlist } from '../../entities/playlist.model';\n\nexport const RequestPlaylist = action('[Playlist] Request', payload<{playlistUrl: string}>());\nexport const ReceivePlaylist = action('[Playlist] Receive', payload<{playlist: Playlist}>());\n\nexport const PlaylistActions = union({\n  RequestPlaylist,\n  ReceivePlaylist,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions/playlist.actions.ts","import React, { Component } from 'react';\n\ninterface TimeProps {\n  children: number;\n}\n\nexport class Time extends Component<TimeProps> {\n  private format(ts: number) {\n    const date = new Date(ts * 1000);\n    return date.toTimeString().split(':').slice(0, 2).join(':');\n  }\n\n  public render() {\n    return <span>{this.format(this.props.children)}</span>;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/formatters/time.tsx","import React, { Component } from 'react';\nimport styles from './progress-bar.scss';\n\ninterface ProgressBarProps {\n  startTime: number;\n  endTime: number;\n}\n\nexport class ProgressBar extends Component<ProgressBarProps> {\n  private oldValue: number = null;\n  private isUnmounted: boolean;\n\n  public componentDidMount() {\n    this.watch();\n  }\n\n  private watch() {\n    if (this.isUnmounted) {\n      return;\n    }\n\n    const THRESHOLD = 5;\n\n    if (this.value - this.oldValue > THRESHOLD) {\n      this.forceUpdate();\n    }\n\n    if (this.value < 100) {\n      setTimeout(() => requestAnimationFrame(this.watch.bind(this)), 500);\n    }\n  }\n\n  public componentWillUnmount() {\n    this.isUnmounted = true;\n  }\n\n  private get value() {\n    const duration = this.props.endTime - this.props.startTime;\n    const passed = Math.floor(Date.now() / 1000) - this.props.startTime;\n    const value = Math.round((passed / duration) * 100);\n    return value > 100 ? 100 : value;\n  }\n\n  public render() {\n    this.oldValue = this.value;\n\n    return (\n      <div className={styles.host}>\n        <div className={styles.bar}>\n          <div className={styles.inner} style={{ width: this.value + '%' }}></div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/progress-bar/progress-bar.tsx","import React, { PureComponent, ReactFragment } from 'react';\nimport styles from './side-panel.scss';\nimport Scrollbars from 'react-custom-scrollbars';\n\ninterface SidePanelProps {\n  header: ReactFragment;\n  body: ReactFragment;\n  provideScrollbarCtrl?: (ctrl: any) => void;\n}\n\nexport class SidePanel extends PureComponent<SidePanelProps> {\n  public render() {\n    return (\n      <div className={styles.host}>\n        <div className={styles.header}>\n          {this.props.header}\n        </div>\n\n        <div className={styles.body}>\n          <Scrollbars autoHide ref={this.props.provideScrollbarCtrl}>\n            {this.props.body}\n          </Scrollbars>\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/side-panel/side-panel.tsx","import { action, payload, union } from 'ts-action';\n\nexport const SaveFavourites = action('[Favourites] Save', payload<{favourites: ReadonlyArray<number>}>());\n\nexport const FavouritesActions = union({\n  SaveFavourites,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions/favourites.actions.ts","import { action, payload, union } from 'ts-action';\nimport { SettingsState } from '../reducers/settings.reducer';\n\nexport const ChangeSettings = action('[Settings] Change', payload<{settings: SettingsState}>());\n\nexport const SettingsActions = union({\n  ChangeSettings,\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions/settings.actions.ts","import { ChannelListMode } from '../../components/list-switcher/channel-list-modes';\nimport { action, payload, union } from 'ts-action';\n\nexport const SetChannelsListMode = action('[UI] Set channel list mode', payload<{mode: ChannelListMode}>());\n\nexport const UiActions = union({\n  SetChannelsListMode,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions/ui-preferences.actions.ts","import { action, on, payload, reducer } from 'ts-action';\nimport CastState = cast.framework.CastState;\nimport SessionState = cast.framework.SessionState;\n\nexport const CastStateChanged = action('[Casting] Cast state changed', payload<{state: string}>());\nexport const SessionStateChanged = action('[Casting] Session state changed',  payload<{state: string}>());\n\nexport interface CastingState {\n  readonly castState: cast.framework.CastState;\n  readonly sessionState: cast.framework.SessionState;\n}\n\nconst initialState: CastingState = {\n  castState: null,\n  sessionState: null,\n};\n\n// tslint:disable no-shadowed-variable\nexport const castingReducer = reducer<CastingState>([\n  on(SessionStateChanged, (state, { payload }) => ({\n    ...state,\n    sessionState: payload.state as SessionState,\n  })),\n\n  on(CastStateChanged, (state, { payload }) => ({\n    ...state,\n    castState: payload.state as CastState,\n  })),\n], initialState);\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/reducers/casting.reducer.ts"],"sourceRoot":""}